<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7 : Virtual lab admin interface : /admin/oauth/Auth/OpenID/AX.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Virtual lab admin interface</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7 at Tue Dec  7 15:36:31 2010 -->
<!-- PHPXref (c) 2000-2007 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='admin/oauth/Auth/OpenID';
filename='AX.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/admin/oauth/Auth/OpenID/</a> -> <a href="AX.php.html">AX.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="AX.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="AX.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">/**</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * Implements the OpenID attribute exchange specification, version 1.0</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * as of svn revision 370 from openid.net svn.</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> *</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> */</span>
<a name="l9"><span class="linenum">   9</span></a>  
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">/**</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * Require utility classes and functions for the consumer.</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> */</span>
<a name="l13"><span class="linenum">  13</span></a>  require_once &quot;Auth/OpenID/Extension.php&quot;;
<a name="l14"><span class="linenum">  14</span></a>  require_once &quot;Auth/OpenID/Message.php&quot;;
<a name="l15"><span class="linenum">  15</span></a>  require_once &quot;Auth/OpenID/TrustRoot.php&quot;;
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('Auth_OpenID_AX_NS_URI',
<a name="l18"><span class="linenum">  18</span></a>         'http://openid.net/srv/ax/1.0');
<a name="l19"><span class="linenum">  19</span></a>  
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">// Use this as the 'count' value for an attribute in a FetchRequest to</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment">// ask for as many values as the OP can provide.</span>
<a name="l22"><span class="linenum">  22</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('Auth_OpenID_AX_UNLIMITED_VALUES', 'unlimited');
<a name="l23"><span class="linenum">  23</span></a>  
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">// Minimum supported alias length in characters.  Here for</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment">// completeness.</span>
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('Auth_OpenID_AX_MINIMUM_SUPPORTED_ALIAS_LENGTH', 32);
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * AX utility class.</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> *</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> */</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_OpenID_AX')" href="../../../../_classes/auth_openid_ax.html" onMouseOver="classPopup(event,'auth_openid_ax')">Auth_OpenID_AX</a> {
<a name="l34"><span class="linenum">  34</span></a>      <span class="comment">/**</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">     * @param mixed $thing Any object which may be an</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment">     * Auth_OpenID_AX_Error object.</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * @return bool true if $thing is an Auth_OpenID_AX_Error; false</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     * if not.</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     */</span>
<a name="l41"><span class="linenum">  41</span></a>      function <a class="function" onClick="logFunction('isError')" href="../../../../_functions/iserror.html" onMouseOver="funcPopup(event,'iserror')">isError</a>(<a class="var it1009" onMouseOver="hilite(1009)" onMouseOut="lolite()" onClick="logVariable('thing')" href="../../../../_variables/thing.html">$thing</a>)
<a name="l42"><span class="linenum">  42</span></a>      {
<a name="l43"><span class="linenum">  43</span></a>          return <a class="phpfunction" onClick="logFunction('is_a')" href="../../../../_functions/is_a.html" onMouseOver="phpfuncPopup(event,'is_a')">is_a</a>(<a class="var it1009" onMouseOver="hilite(1009)" onMouseOut="lolite()" onClick="logVariable('thing')" href="../../../../_variables/thing.html">$thing</a>, 'Auth_OpenID_AX_Error');
<a name="l44"><span class="linenum">  44</span></a>      }
<a name="l45"><span class="linenum">  45</span></a>  }
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">/**</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> * Check an alias for invalid characters; raise AXError if any are</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment"> * found.  Return None if the alias is valid.</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment"> */</span>
<a name="l51"><span class="linenum">  51</span></a>  function <a class="function" onClick="logFunction('Auth_OpenID_AX_checkAlias')" href="../../../../_functions/auth_openid_ax_checkalias.html" onMouseOver="funcPopup(event,'auth_openid_ax_checkalias')">Auth_OpenID_AX_checkAlias</a>(<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>)
<a name="l52"><span class="linenum">  52</span></a>  {
<a name="l53"><span class="linenum">  53</span></a>    if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>, ',') !== false) {
<a name="l54"><span class="linenum">  54</span></a>        return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(sprintf(
<a name="l55"><span class="linenum">  55</span></a>                     &quot;Alias %s must not contain comma&quot;, <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>));
<a name="l56"><span class="linenum">  56</span></a>    }
<a name="l57"><span class="linenum">  57</span></a>    if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>, '.') !== false) {
<a name="l58"><span class="linenum">  58</span></a>        return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(sprintf(
<a name="l59"><span class="linenum">  59</span></a>                     &quot;Alias %s must not contain period&quot;, <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>));
<a name="l60"><span class="linenum">  60</span></a>    }
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>    return true;
<a name="l63"><span class="linenum">  63</span></a>  }
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">/**</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment"> * Results from data that does not meet the attribute exchange 1.0</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment"> * specification</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment"> *</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment"> */</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a> {
<a name="l72"><span class="linenum">  72</span></a>      function <a class="function" onClick="logFunction('Auth_OpenID_AX_Error')" href="../../../../_functions/auth_openid_ax_error.html" onMouseOver="funcPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../../_variables/message.html">$message</a>=null)
<a name="l73"><span class="linenum">  73</span></a>      {
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('message')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/message.html">message</a> = <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../../_variables/message.html">$message</a>;
<a name="l75"><span class="linenum">  75</span></a>      }
<a name="l76"><span class="linenum">  76</span></a>  }
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">/**</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment"> * Abstract class containing common code for attribute exchange</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment"> * messages.</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment"> *</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment"> */</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_OpenID_AX_Message')" href="../../../../_classes/auth_openid_ax_message.html" onMouseOver="classPopup(event,'auth_openid_ax_message')">Auth_OpenID_AX_Message</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('Auth_OpenID_Extension')" href="../../../../_classes/auth_openid_extension.html" onMouseOver="classPopup(event,'auth_openid_extension')">Auth_OpenID_Extension</a> {
<a name="l85"><span class="linenum">  85</span></a>      <span class="comment">/**</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     * ns_alias: The preferred namespace alias for attribute exchange</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     * messages</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     */</span>
<a name="l89"><span class="linenum">  89</span></a>      var <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('ns_alias')" href="../../../../_variables/ns_alias.html">$ns_alias</a> = 'ax';
<a name="l90"><span class="linenum">  90</span></a>  
<a name="l91"><span class="linenum">  91</span></a>      <span class="comment">/**</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     * mode: The type of this attribute exchange message. This must be</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">     * overridden in subclasses.</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     */</span>
<a name="l95"><span class="linenum">  95</span></a>      var <a class="var it824" onMouseOver="hilite(824)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a> = null;
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>      var <a class="var it282" onMouseOver="hilite(282)" onMouseOut="lolite()" onClick="logVariable('ns_uri')" href="../../../../_variables/ns_uri.html">$ns_uri</a> = Auth_OpenID_AX_NS_URI;
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>      <span class="comment">/**</span>
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">     * Return Auth_OpenID_AX_Error if the mode in the attribute</span>
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">     * exchange arguments does not match what is expected for this</span>
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">     * class; true otherwise.</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">     *</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">     * @access private</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">     */</span>
<a name="l106"><span class="linenum"> 106</span></a>      function <a class="function" onClick="logFunction('_checkMode')" href="../../../../_functions/_checkmode.html" onMouseOver="funcPopup(event,'_checkmode')">_checkMode</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>)
<a name="l107"><span class="linenum"> 107</span></a>      {
<a name="l108"><span class="linenum"> 108</span></a>          <a class="var it824" onMouseOver="hilite(824)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a> = <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="function" onClick="logFunction('arrayGet')" href="../../../../_functions/arrayget.html" onMouseOver="funcPopup(event,'arrayget')">arrayGet</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>, 'mode');
<a name="l109"><span class="linenum"> 109</span></a>          if (<a class="var it824" onMouseOver="hilite(824)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a> != <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mode')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/mode.html">mode</a>) {
<a name="l110"><span class="linenum"> 110</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l111"><span class="linenum"> 111</span></a>                              sprintf(
<a name="l112"><span class="linenum"> 112</span></a>                                      &quot;Expected mode '%s'; got '%s'&quot;,
<a name="l113"><span class="linenum"> 113</span></a>                                      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mode')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/mode.html">mode</a>, <a class="var it824" onMouseOver="hilite(824)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a>));
<a name="l114"><span class="linenum"> 114</span></a>          }
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>          return true;
<a name="l117"><span class="linenum"> 117</span></a>      }
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>      <span class="comment">/**</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     * Return a set of attribute exchange arguments containing the</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     * basic information that must be in every attribute exchange</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * message.</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     *</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     * @access private</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     */</span>
<a name="l126"><span class="linenum"> 126</span></a>      function <a class="function" onClick="logFunction('_newArgs')" href="../../../../_functions/_newargs.html" onMouseOver="funcPopup(event,'_newargs')">_newArgs</a>()
<a name="l127"><span class="linenum"> 127</span></a>      {
<a name="l128"><span class="linenum"> 128</span></a>          return array('mode' =&gt; <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mode')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/mode.html">mode</a>);
<a name="l129"><span class="linenum"> 129</span></a>      }
<a name="l130"><span class="linenum"> 130</span></a>  }
<a name="l131"><span class="linenum"> 131</span></a>  
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">/**</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment"> * Represents a single attribute in an attribute exchange</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment"> * request. This should be added to an AXRequest object in order to</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment"> * request the attribute.</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment"> *</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment"> */</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_OpenID_AX_AttrInfo')" href="../../../../_classes/auth_openid_ax_attrinfo.html" onMouseOver="classPopup(event,'auth_openid_ax_attrinfo')">Auth_OpenID_AX_AttrInfo</a> {
<a name="l140"><span class="linenum"> 140</span></a>      <span class="comment">/**</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">     * Construct an attribute information object.  Do not call this</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">     * directly; call make(...) instead.</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">     *</span>
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment">     * @param string $type_uri The type URI for this attribute.</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">     *</span>
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">     * @param int $count The number of values of this type to request.</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     *</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     * @param bool $required Whether the attribute will be marked as</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     * required in the request.</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     *</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">     * @param string $alias The name that should be given to this</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">     * attribute in the request.</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">     */</span>
<a name="l154"><span class="linenum"> 154</span></a>      function <a class="function" onClick="logFunction('Auth_OpenID_AX_AttrInfo')" href="../../../../_functions/auth_openid_ax_attrinfo.html" onMouseOver="funcPopup(event,'auth_openid_ax_attrinfo')">Auth_OpenID_AX_AttrInfo</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>, <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a>,
<a name="l155"><span class="linenum"> 155</span></a>                                       <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>)
<a name="l156"><span class="linenum"> 156</span></a>      {
<a name="l157"><span class="linenum"> 157</span></a>          <span class="comment">/**</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">         * required: Whether the attribute will be marked as required</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">         * when presented to the subject of the attribute exchange</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">         * request.</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">         */</span>
<a name="l162"><span class="linenum"> 162</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('required')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/required.html">required</a> = <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a>;
<a name="l163"><span class="linenum"> 163</span></a>  
<a name="l164"><span class="linenum"> 164</span></a>          <span class="comment">/**</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment">         * count: How many values of this type to request from the</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">         * subject. Defaults to one.</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">         */</span>
<a name="l168"><span class="linenum"> 168</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('count')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/count.html">count</a> = <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>;
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>          <span class="comment">/**</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">         * type_uri: The identifier that determines what the attribute</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">         * represents and how it is serialized. For example, one type</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">         * URI representing dates could represent a Unix timestamp in</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">         * base 10 and another could represent a human-readable</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">         * string.</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">         */</span>
<a name="l177"><span class="linenum"> 177</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a> = <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>;
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>          <span class="comment">/**</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">         * alias: The name that should be given to this attribute in</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">         * the request. If it is not supplied, a generic name will be</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">         * assigned. For example, if you want to call a Unix timestamp</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">         * value 'tstamp', set its alias to that value. If two</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">         * attributes in the same message request to use the same</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">         * alias, the request will fail to be generated.</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">         */</span>
<a name="l187"><span class="linenum"> 187</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alias')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/alias.html">alias</a> = <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>;
<a name="l188"><span class="linenum"> 188</span></a>      }
<a name="l189"><span class="linenum"> 189</span></a>  
<a name="l190"><span class="linenum"> 190</span></a>      <span class="comment">/**</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">     * Construct an attribute information object.  For parameter</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">     * details, see the constructor.</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">     */</span>
<a name="l194"><span class="linenum"> 194</span></a>      function <a class="function" onClick="logFunction('make')" href="../../../../_functions/make.html" onMouseOver="funcPopup(event,'make')">make</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>=1, <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a>=false,
<a name="l195"><span class="linenum"> 195</span></a>                    <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>=null)
<a name="l196"><span class="linenum"> 196</span></a>      {
<a name="l197"><span class="linenum"> 197</span></a>          if (<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> !== null) {
<a name="l198"><span class="linenum"> 198</span></a>              <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('Auth_OpenID_AX_checkAlias')" href="../../../../_functions/auth_openid_ax_checkalias.html" onMouseOver="funcPopup(event,'auth_openid_ax_checkalias')">Auth_OpenID_AX_checkAlias</a>(<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>);
<a name="l199"><span class="linenum"> 199</span></a>  
<a name="l200"><span class="linenum"> 200</span></a>              if (<a class="class" onClick="logClass('Auth_OpenID_AX')" href="../../../../_classes/auth_openid_ax.html" onMouseOver="classPopup(event,'auth_openid_ax')">Auth_OpenID_AX</a>::<a class="function" onClick="logFunction('isError')" href="../../../../_functions/iserror.html" onMouseOver="funcPopup(event,'iserror')">isError</a>(<a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>)) {
<a name="l201"><span class="linenum"> 201</span></a>                  return <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l202"><span class="linenum"> 202</span></a>              }
<a name="l203"><span class="linenum"> 203</span></a>          }
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_AttrInfo')" href="../../../../_classes/auth_openid_ax_attrinfo.html" onMouseOver="classPopup(event,'auth_openid_ax_attrinfo')">Auth_OpenID_AX_AttrInfo</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>, <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a>,
<a name="l206"><span class="linenum"> 206</span></a>                                             <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>);
<a name="l207"><span class="linenum"> 207</span></a>      }
<a name="l208"><span class="linenum"> 208</span></a>  
<a name="l209"><span class="linenum"> 209</span></a>      <span class="comment">/**</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment">     * When processing a request for this attribute, the OP should</span>
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment">     * call this method to determine whether all available attribute</span>
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment">     * values were requested.  If self.count == UNLIMITED_VALUES, this</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">     * returns True.  Otherwise this returns False, in which case</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">     * self.count is an integer.</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">    */</span>
<a name="l216"><span class="linenum"> 216</span></a>      function <a class="function" onClick="logFunction('wantsUnlimitedValues')" href="../../../../_functions/wantsunlimitedvalues.html" onMouseOver="funcPopup(event,'wantsunlimitedvalues')">wantsUnlimitedValues</a>()
<a name="l217"><span class="linenum"> 217</span></a>      {
<a name="l218"><span class="linenum"> 218</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('count')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/count.html">count</a> === Auth_OpenID_AX_UNLIMITED_VALUES;
<a name="l219"><span class="linenum"> 219</span></a>      }
<a name="l220"><span class="linenum"> 220</span></a>  }
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">/**</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment"> * Given a namespace mapping and a string containing a comma-separated</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment"> * list of namespace aliases, return a list of type URIs that</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment"> * correspond to those aliases.</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment"> *</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment"> * @param $namespace_map The mapping from namespace URI to alias</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment"> * @param $alias_list_s The string containing the comma-separated</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment"> * list of aliases. May also be None for convenience.</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment"> *</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment"> * @return $seq The list of namespace URIs that corresponds to the</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment"> * supplied list of aliases. If the string was zero-length or None, an</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment"> * empty list will be returned.</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment"> *</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment"> * return null If an alias is present in the list of aliases but</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment"> * is not present in the namespace map.</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment"> */</span>
<a name="l238"><span class="linenum"> 238</span></a>  function <a class="function" onClick="logFunction('Auth_OpenID_AX_toTypeURIs')" href="../../../../_functions/auth_openid_ax_totypeuris.html" onMouseOver="funcPopup(event,'auth_openid_ax_totypeuris')">Auth_OpenID_AX_toTypeURIs</a>(&amp;<a class="var it1141" onMouseOver="hilite(1141)" onMouseOut="lolite()" onClick="logVariable('namespace_map')" href="../../../../_variables/namespace_map.html">$namespace_map</a>, <a class="var it2060" onMouseOver="hilite(2060)" onMouseOut="lolite()" onClick="logVariable('alias_list_s')" href="../../../../_variables/alias_list_s.html">$alias_list_s</a>)
<a name="l239"><span class="linenum"> 239</span></a>  {
<a name="l240"><span class="linenum"> 240</span></a>      <a class="var it609" onMouseOver="hilite(609)" onMouseOut="lolite()" onClick="logVariable('uris')" href="../../../../_variables/uris.html">$uris</a> = array();
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>      if (<a class="var it2060" onMouseOver="hilite(2060)" onMouseOut="lolite()" onClick="logVariable('alias_list_s')" href="../../../../_variables/alias_list_s.html">$alias_list_s</a>) {
<a name="l243"><span class="linenum"> 243</span></a>          foreach (<a class="phpfunction" onClick="logFunction('explode')" href="../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it2060" onMouseOver="hilite(2060)" onMouseOut="lolite()" onClick="logVariable('alias_list_s')" href="../../../../_variables/alias_list_s.html">$alias_list_s</a>) as <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>) {
<a name="l244"><span class="linenum"> 244</span></a>              <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a> = <a class="var it1141" onMouseOver="hilite(1141)" onMouseOut="lolite()" onClick="logVariable('namespace_map')" href="../../../../_variables/namespace_map.html">$namespace_map</a>-&gt;<a class="function" onClick="logFunction('getNamespaceURI')" href="../../../../_functions/getnamespaceuri.html" onMouseOver="funcPopup(event,'getnamespaceuri')">getNamespaceURI</a>(<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>);
<a name="l245"><span class="linenum"> 245</span></a>              if (<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a> === null) {
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">                // raise KeyError(</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">                // 'No type is defined for attribute name %r' % (alias,))</span>
<a name="l248"><span class="linenum"> 248</span></a>                  return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l249"><span class="linenum"> 249</span></a>                    sprintf('No type is defined for attribute name %s',
<a name="l250"><span class="linenum"> 250</span></a>                            <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>)
<a name="l251"><span class="linenum"> 251</span></a>                    );
<a name="l252"><span class="linenum"> 252</span></a>              } else {
<a name="l253"><span class="linenum"> 253</span></a>                  <a class="var it609" onMouseOver="hilite(609)" onMouseOut="lolite()" onClick="logVariable('uris')" href="../../../../_variables/uris.html">$uris</a>[] = <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>;
<a name="l254"><span class="linenum"> 254</span></a>              }
<a name="l255"><span class="linenum"> 255</span></a>          }
<a name="l256"><span class="linenum"> 256</span></a>      }
<a name="l257"><span class="linenum"> 257</span></a>  
<a name="l258"><span class="linenum"> 258</span></a>      return <a class="var it609" onMouseOver="hilite(609)" onMouseOut="lolite()" onClick="logVariable('uris')" href="../../../../_variables/uris.html">$uris</a>;
<a name="l259"><span class="linenum"> 259</span></a>  }
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">/**</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment"> * An attribute exchange 'fetch_request' message. This message is sent</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment"> * by a relying party when it wishes to obtain attributes about the</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment"> * subject of an OpenID authentication request.</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment"> *</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment"> */</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_OpenID_AX_FetchRequest')" href="../../../../_classes/auth_openid_ax_fetchrequest.html" onMouseOver="classPopup(event,'auth_openid_ax_fetchrequest')">Auth_OpenID_AX_FetchRequest</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('Auth_OpenID_AX_Message')" href="../../../../_classes/auth_openid_ax_message.html" onMouseOver="classPopup(event,'auth_openid_ax_message')">Auth_OpenID_AX_Message</a> {
<a name="l269"><span class="linenum"> 269</span></a>  
<a name="l270"><span class="linenum"> 270</span></a>      var <a class="var it824" onMouseOver="hilite(824)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a> = 'fetch_request';
<a name="l271"><span class="linenum"> 271</span></a>  
<a name="l272"><span class="linenum"> 272</span></a>      function <a class="function" onClick="logFunction('Auth_OpenID_AX_FetchRequest')" href="../../../../_functions/auth_openid_ax_fetchrequest.html" onMouseOver="funcPopup(event,'auth_openid_ax_fetchrequest')">Auth_OpenID_AX_FetchRequest</a>(<a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('update_url')" href="../../../../_variables/update_url.html">$update_url</a>=null)
<a name="l273"><span class="linenum"> 273</span></a>      {
<a name="l274"><span class="linenum"> 274</span></a>          <span class="comment">/**</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">         * requested_attributes: The attributes that have been</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">         * requested thus far, indexed by the type URI.</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">         */</span>
<a name="l278"><span class="linenum"> 278</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('requested_attributes')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/requested_attributes.html">requested_attributes</a> = array();
<a name="l279"><span class="linenum"> 279</span></a>  
<a name="l280"><span class="linenum"> 280</span></a>          <span class="comment">/**</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">         * update_url: A URL that will accept responses for this</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">         * attribute exchange request, even in the absence of the user</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">         * who made this request.</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">        */</span>
<a name="l285"><span class="linenum"> 285</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('update_url')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/update_url.html">update_url</a> = <a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('update_url')" href="../../../../_variables/update_url.html">$update_url</a>;
<a name="l286"><span class="linenum"> 286</span></a>      }
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>      <span class="comment">/**</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">     * Add an attribute to this attribute exchange request.</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">     *</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     * @param attribute: The attribute that is being requested</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">     * @return true on success, false when the requested attribute is</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     * already present in this fetch request.</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     */</span>
<a name="l295"><span class="linenum"> 295</span></a>      function <a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>)
<a name="l296"><span class="linenum"> 296</span></a>      {
<a name="l297"><span class="linenum"> 297</span></a>          if (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2273" onMouseOver="hilite(2273)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>)) {
<a name="l298"><span class="linenum"> 298</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l299"><span class="linenum"> 299</span></a>                sprintf(&quot;The attribute %s has already been requested&quot;,
<a name="l300"><span class="linenum"> 300</span></a>                        <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2273" onMouseOver="hilite(2273)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>));
<a name="l301"><span class="linenum"> 301</span></a>          }
<a name="l302"><span class="linenum"> 302</span></a>  
<a name="l303"><span class="linenum"> 303</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('requested_attributes')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/requested_attributes.html">requested_attributes</a>[<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2273" onMouseOver="hilite(2273)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>] = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>;
<a name="l304"><span class="linenum"> 304</span></a>  
<a name="l305"><span class="linenum"> 305</span></a>          return true;
<a name="l306"><span class="linenum"> 306</span></a>      }
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>      <span class="comment">/**</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     * Get the serialized form of this attribute fetch request.</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     *</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * @returns Auth_OpenID_AX_FetchRequest The fetch request message parameters</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     */</span>
<a name="l313"><span class="linenum"> 313</span></a>      function <a class="function" onClick="logFunction('getExtensionArgs')" href="../../../../_functions/getextensionargs.html" onMouseOver="funcPopup(event,'getextensionargs')">getExtensionArgs</a>()
<a name="l314"><span class="linenum"> 314</span></a>      {
<a name="l315"><span class="linenum"> 315</span></a>          <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_NamespaceMap')" href="../../../../_classes/auth_openid_namespacemap.html" onMouseOver="classPopup(event,'auth_openid_namespacemap')">Auth_OpenID_NamespaceMap</a>();
<a name="l316"><span class="linenum"> 316</span></a>  
<a name="l317"><span class="linenum"> 317</span></a>          <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a> = array();
<a name="l318"><span class="linenum"> 318</span></a>          <a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('if_available')" href="../../../../_variables/if_available.html">$if_available</a> = array();
<a name="l319"><span class="linenum"> 319</span></a>  
<a name="l320"><span class="linenum"> 320</span></a>          <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_newArgs')" href="../../../../_functions/_newargs.html" onMouseOver="funcPopup(event,'_newargs')">_newArgs</a>();
<a name="l321"><span class="linenum"> 321</span></a>  
<a name="l322"><span class="linenum"> 322</span></a>          foreach (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('requested_attributes')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/requested_attributes.html">requested_attributes</a> as <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a> =&gt; <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>) {
<a name="l323"><span class="linenum"> 323</span></a>              if (<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>-&gt;<a onClick="logVariable('alias')" class="var it2273" onMouseOver="hilite(2273)" onMouseOut="lolite()" href="../../../../_variables/alias.html">alias</a> === null) {
<a name="l324"><span class="linenum"> 324</span></a>                  <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> = <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>);
<a name="l325"><span class="linenum"> 325</span></a>              } else {
<a name="l326"><span class="linenum"> 326</span></a>                  <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> = <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>-&gt;<a class="function" onClick="logFunction('addAlias')" href="../../../../_functions/addalias.html" onMouseOver="funcPopup(event,'addalias')">addAlias</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>-&gt;<a onClick="logVariable('alias')" class="var it2273" onMouseOver="hilite(2273)" onMouseOut="lolite()" href="../../../../_variables/alias.html">alias</a>);
<a name="l327"><span class="linenum"> 327</span></a>  
<a name="l328"><span class="linenum"> 328</span></a>                  if (<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> === null) {
<a name="l329"><span class="linenum"> 329</span></a>                      return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l330"><span class="linenum"> 330</span></a>                        sprintf(&quot;Could not add alias %s for URI %s&quot;,
<a name="l331"><span class="linenum"> 331</span></a>                                <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>-&gt;<a onClick="logVariable('alias')" class="var it2273" onMouseOver="hilite(2273)" onMouseOut="lolite()" href="../../../../_variables/alias.html">alias</a>, <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>
<a name="l332"><span class="linenum"> 332</span></a>                        ));
<a name="l333"><span class="linenum"> 333</span></a>                  }
<a name="l334"><span class="linenum"> 334</span></a>              }
<a name="l335"><span class="linenum"> 335</span></a>  
<a name="l336"><span class="linenum"> 336</span></a>              if (<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>-&gt;<a onClick="logVariable('required')" class="var it2273" onMouseOver="hilite(2273)" onMouseOut="lolite()" href="../../../../_variables/required.html">required</a>) {
<a name="l337"><span class="linenum"> 337</span></a>                  <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a>[] = <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>;
<a name="l338"><span class="linenum"> 338</span></a>              } else {
<a name="l339"><span class="linenum"> 339</span></a>                  <a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('if_available')" href="../../../../_variables/if_available.html">$if_available</a>[] = <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>;
<a name="l340"><span class="linenum"> 340</span></a>              }
<a name="l341"><span class="linenum"> 341</span></a>  
<a name="l342"><span class="linenum"> 342</span></a>              if (<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>-&gt;<a onClick="logVariable('count')" class="var it2273" onMouseOver="hilite(2273)" onMouseOut="lolite()" href="../../../../_variables/count.html">count</a> != 1) {
<a name="l343"><span class="linenum"> 343</span></a>                  <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>['count.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>] = <a class="phpfunction" onClick="logFunction('strval')" href="../../../../_functions/strval.html" onMouseOver="phpfuncPopup(event,'strval')">strval</a>(<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>-&gt;<a onClick="logVariable('count')" class="var it2273" onMouseOver="hilite(2273)" onMouseOut="lolite()" href="../../../../_variables/count.html">count</a>);
<a name="l344"><span class="linenum"> 344</span></a>              }
<a name="l345"><span class="linenum"> 345</span></a>  
<a name="l346"><span class="linenum"> 346</span></a>              <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>['type.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>] = <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>;
<a name="l347"><span class="linenum"> 347</span></a>          }
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>          if (<a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a>) {
<a name="l350"><span class="linenum"> 350</span></a>              <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>['required'] = <a class="phpfunction" onClick="logFunction('implode')" href="../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a>);
<a name="l351"><span class="linenum"> 351</span></a>          }
<a name="l352"><span class="linenum"> 352</span></a>  
<a name="l353"><span class="linenum"> 353</span></a>          if (<a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('if_available')" href="../../../../_variables/if_available.html">$if_available</a>) {
<a name="l354"><span class="linenum"> 354</span></a>              <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>['if_available'] = <a class="phpfunction" onClick="logFunction('implode')" href="../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('if_available')" href="../../../../_variables/if_available.html">$if_available</a>);
<a name="l355"><span class="linenum"> 355</span></a>          }
<a name="l356"><span class="linenum"> 356</span></a>  
<a name="l357"><span class="linenum"> 357</span></a>          return <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>;
<a name="l358"><span class="linenum"> 358</span></a>      }
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>      <span class="comment">/**</span>
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">     * Get the type URIs for all attributes that have been marked as</span>
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment">     * required.</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">     *</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">     * @return A list of the type URIs for attributes that have been</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">     * marked as required.</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">     */</span>
<a name="l367"><span class="linenum"> 367</span></a>      function <a class="function" onClick="logFunction('getRequiredAttrs')" href="../../../../_functions/getrequiredattrs.html" onMouseOver="funcPopup(event,'getrequiredattrs')">getRequiredAttrs</a>()
<a name="l368"><span class="linenum"> 368</span></a>      {
<a name="l369"><span class="linenum"> 369</span></a>          <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a> = array();
<a name="l370"><span class="linenum"> 370</span></a>          foreach (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('requested_attributes')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/requested_attributes.html">requested_attributes</a> as <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a> =&gt; <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>) {
<a name="l371"><span class="linenum"> 371</span></a>              if (<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('attribute')" href="../../../../_variables/attribute.html">$attribute</a>-&gt;<a onClick="logVariable('required')" class="var it2273" onMouseOver="hilite(2273)" onMouseOut="lolite()" href="../../../../_variables/required.html">required</a>) {
<a name="l372"><span class="linenum"> 372</span></a>                  <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a>[] = <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>;
<a name="l373"><span class="linenum"> 373</span></a>              }
<a name="l374"><span class="linenum"> 374</span></a>          }
<a name="l375"><span class="linenum"> 375</span></a>  
<a name="l376"><span class="linenum"> 376</span></a>          return <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a>;
<a name="l377"><span class="linenum"> 377</span></a>      }
<a name="l378"><span class="linenum"> 378</span></a>  
<a name="l379"><span class="linenum"> 379</span></a>      <span class="comment">/**</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">     * Extract a FetchRequest from an OpenID message</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">     *</span>
<a name="l382"><span class="linenum"> 382</span></a>  <span class="comment">     * @param request: The OpenID request containing the attribute</span>
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment">     * fetch request</span>
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment">     *</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">     * @returns mixed An Auth_OpenID_AX_Error or the</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     * Auth_OpenID_AX_FetchRequest extracted from the request message if</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     * successful</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">     */</span>
<a name="l389"><span class="linenum"> 389</span></a>      function &amp;<a class="function" onClick="logFunction('fromOpenIDRequest')" href="../../../../_functions/fromopenidrequest.html" onMouseOver="funcPopup(event,'fromopenidrequest')">fromOpenIDRequest</a>(<a class="var it278" onMouseOver="hilite(278)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a>)
<a name="l390"><span class="linenum"> 390</span></a>      {
<a name="l391"><span class="linenum"> 391</span></a>          <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a> = <a class="var it278" onMouseOver="hilite(278)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a>-&gt;<a onClick="logVariable('message')" class="var it2299" onMouseOver="hilite(2299)" onMouseOut="lolite()" href="../../../../_variables/message.html">message</a>;
<a name="l392"><span class="linenum"> 392</span></a>          <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_FetchRequest')" href="../../../../_classes/auth_openid_ax_fetchrequest.html" onMouseOver="classPopup(event,'auth_openid_ax_fetchrequest')">Auth_OpenID_AX_FetchRequest</a>();
<a name="l393"><span class="linenum"> 393</span></a>          <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> = <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>-&gt;<a class="function" onClick="logFunction('getArgs')" href="../../../../_functions/getargs.html" onMouseOver="funcPopup(event,'getargs')">getArgs</a>(<a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('ns_uri')" class="var it2277" onMouseOver="hilite(2277)" onMouseOut="lolite()" href="../../../../_variables/ns_uri.html">ns_uri</a>);
<a name="l394"><span class="linenum"> 394</span></a>  
<a name="l395"><span class="linenum"> 395</span></a>          <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>-&gt;<a class="function" onClick="logFunction('parseExtensionArgs')" href="../../../../_functions/parseextensionargs.html" onMouseOver="funcPopup(event,'parseextensionargs')">parseExtensionArgs</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>);
<a name="l396"><span class="linenum"> 396</span></a>  
<a name="l397"><span class="linenum"> 397</span></a>          if (<a class="class" onClick="logClass('Auth_OpenID_AX')" href="../../../../_classes/auth_openid_ax.html" onMouseOver="classPopup(event,'auth_openid_ax')">Auth_OpenID_AX</a>::<a class="function" onClick="logFunction('isError')" href="../../../../_functions/iserror.html" onMouseOver="funcPopup(event,'iserror')">isError</a>(<a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>)) {
<a name="l398"><span class="linenum"> 398</span></a>              return <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l399"><span class="linenum"> 399</span></a>          }
<a name="l400"><span class="linenum"> 400</span></a>  
<a name="l401"><span class="linenum"> 401</span></a>          if (<a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('update_url')" class="var it2277" onMouseOver="hilite(2277)" onMouseOut="lolite()" href="../../../../_variables/update_url.html">update_url</a>) {
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">            // Update URL must match the openid.realm of the</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">            // underlying OpenID 2 message.</span>
<a name="l404"><span class="linenum"> 404</span></a>              <a class="var it880" onMouseOver="hilite(880)" onMouseOut="lolite()" onClick="logVariable('realm')" href="../../../../_variables/realm.html">$realm</a> = <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>-&gt;<a class="function" onClick="logFunction('getArg')" href="../../../../_functions/getarg.html" onMouseOver="funcPopup(event,'getarg')">getArg</a>(Auth_OpenID_OPENID_NS, 'realm',
<a name="l405"><span class="linenum"> 405</span></a>                          <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>-&gt;<a class="function" onClick="logFunction('getArg')" href="../../../../_functions/getarg.html" onMouseOver="funcPopup(event,'getarg')">getArg</a>(
<a name="l406"><span class="linenum"> 406</span></a>                                    Auth_OpenID_OPENID_NS,
<a name="l407"><span class="linenum"> 407</span></a>                                    'return_to'));
<a name="l408"><span class="linenum"> 408</span></a>  
<a name="l409"><span class="linenum"> 409</span></a>              if (!<a class="var it880" onMouseOver="hilite(880)" onMouseOut="lolite()" onClick="logVariable('realm')" href="../../../../_variables/realm.html">$realm</a>) {
<a name="l410"><span class="linenum"> 410</span></a>                  <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l411"><span class="linenum"> 411</span></a>                    sprintf(&quot;Cannot validate update_url %s &quot; .
<a name="l412"><span class="linenum"> 412</span></a>                            &quot;against absent realm&quot;, <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('update_url')" class="var it2277" onMouseOver="hilite(2277)" onMouseOut="lolite()" href="../../../../_variables/update_url.html">update_url</a>));
<a name="l413"><span class="linenum"> 413</span></a>              } else if (!<a class="class" onClick="logClass('Auth_OpenID_TrustRoot')" href="../../../../_classes/auth_openid_trustroot.html" onMouseOver="classPopup(event,'auth_openid_trustroot')">Auth_OpenID_TrustRoot</a>::<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(<a class="var it880" onMouseOver="hilite(880)" onMouseOut="lolite()" onClick="logVariable('realm')" href="../../../../_variables/realm.html">$realm</a>,
<a name="l414"><span class="linenum"> 414</span></a>                                                       <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('update_url')" class="var it2277" onMouseOver="hilite(2277)" onMouseOut="lolite()" href="../../../../_variables/update_url.html">update_url</a>)) {
<a name="l415"><span class="linenum"> 415</span></a>                  <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l416"><span class="linenum"> 416</span></a>                    sprintf(&quot;Update URL %s failed validation against realm %s&quot;,
<a name="l417"><span class="linenum"> 417</span></a>                            <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('update_url')" class="var it2277" onMouseOver="hilite(2277)" onMouseOut="lolite()" href="../../../../_variables/update_url.html">update_url</a>, <a class="var it880" onMouseOver="hilite(880)" onMouseOut="lolite()" onClick="logVariable('realm')" href="../../../../_variables/realm.html">$realm</a>));
<a name="l418"><span class="linenum"> 418</span></a>              }
<a name="l419"><span class="linenum"> 419</span></a>          }
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>          return <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>;
<a name="l422"><span class="linenum"> 422</span></a>      }
<a name="l423"><span class="linenum"> 423</span></a>  
<a name="l424"><span class="linenum"> 424</span></a>      <span class="comment">/**</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">     * Given attribute exchange arguments, populate this FetchRequest.</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment">     *</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment">     * @return $result Auth_OpenID_AX_Error if the data to be parsed</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">     * does not follow the attribute exchange specification. At least</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment">     * when 'if_available' or 'required' is not specified for a</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">     * particular attribute type.  Returns true otherwise.</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">    */</span>
<a name="l432"><span class="linenum"> 432</span></a>      function <a class="function" onClick="logFunction('parseExtensionArgs')" href="../../../../_functions/parseextensionargs.html" onMouseOver="funcPopup(event,'parseextensionargs')">parseExtensionArgs</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>)
<a name="l433"><span class="linenum"> 433</span></a>      {
<a name="l434"><span class="linenum"> 434</span></a>          <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_checkMode')" href="../../../../_functions/_checkmode.html" onMouseOver="funcPopup(event,'_checkmode')">_checkMode</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>);
<a name="l435"><span class="linenum"> 435</span></a>          if (<a class="class" onClick="logClass('Auth_OpenID_AX')" href="../../../../_classes/auth_openid_ax.html" onMouseOver="classPopup(event,'auth_openid_ax')">Auth_OpenID_AX</a>::<a class="function" onClick="logFunction('isError')" href="../../../../_functions/iserror.html" onMouseOver="funcPopup(event,'iserror')">isError</a>(<a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>)) {
<a name="l436"><span class="linenum"> 436</span></a>              return <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l437"><span class="linenum"> 437</span></a>          }
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>          <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_NamespaceMap')" href="../../../../_classes/auth_openid_namespacemap.html" onMouseOver="classPopup(event,'auth_openid_namespacemap')">Auth_OpenID_NamespaceMap</a>();
<a name="l440"><span class="linenum"> 440</span></a>  
<a name="l441"><span class="linenum"> 441</span></a>          foreach (<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> as <a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a> =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>) {
<a name="l442"><span class="linenum"> 442</span></a>              if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a>, 'type.') === 0) {
<a name="l443"><span class="linenum"> 443</span></a>                  <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a>, 5);
<a name="l444"><span class="linenum"> 444</span></a>                  <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>;
<a name="l445"><span class="linenum"> 445</span></a>  
<a name="l446"><span class="linenum"> 446</span></a>                  <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> = <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>-&gt;<a class="function" onClick="logFunction('addAlias')" href="../../../../_functions/addalias.html" onMouseOver="funcPopup(event,'addalias')">addAlias</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>);
<a name="l447"><span class="linenum"> 447</span></a>  
<a name="l448"><span class="linenum"> 448</span></a>                  if (<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> === null) {
<a name="l449"><span class="linenum"> 449</span></a>                      return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l450"><span class="linenum"> 450</span></a>                        sprintf(&quot;Could not add alias %s for URI %s&quot;,
<a name="l451"><span class="linenum"> 451</span></a>                                <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>, <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>)
<a name="l452"><span class="linenum"> 452</span></a>                        );
<a name="l453"><span class="linenum"> 453</span></a>                  }
<a name="l454"><span class="linenum"> 454</span></a>  
<a name="l455"><span class="linenum"> 455</span></a>                  <a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('count_s')" href="../../../../_variables/count_s.html">$count_s</a> = <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="function" onClick="logFunction('arrayGet')" href="../../../../_functions/arrayget.html" onMouseOver="funcPopup(event,'arrayget')">arrayGet</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>, 'count.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>);
<a name="l456"><span class="linenum"> 456</span></a>                  if (<a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('count_s')" href="../../../../_variables/count_s.html">$count_s</a>) {
<a name="l457"><span class="linenum"> 457</span></a>                      <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> = <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('count_s')" href="../../../../_variables/count_s.html">$count_s</a>);
<a name="l458"><span class="linenum"> 458</span></a>                      if ((<a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> === false) &amp;&amp;
<a name="l459"><span class="linenum"> 459</span></a>                          (<a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('count_s')" href="../../../../_variables/count_s.html">$count_s</a> === Auth_OpenID_AX_UNLIMITED_VALUES)) {
<a name="l460"><span class="linenum"> 460</span></a>                          <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> = <a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('count_s')" href="../../../../_variables/count_s.html">$count_s</a>;
<a name="l461"><span class="linenum"> 461</span></a>                      }
<a name="l462"><span class="linenum"> 462</span></a>                  } else {
<a name="l463"><span class="linenum"> 463</span></a>                      <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> = 1;
<a name="l464"><span class="linenum"> 464</span></a>                  }
<a name="l465"><span class="linenum"> 465</span></a>  
<a name="l466"><span class="linenum"> 466</span></a>                  if (<a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> === false) {
<a name="l467"><span class="linenum"> 467</span></a>                      return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l468"><span class="linenum"> 468</span></a>                        sprintf(&quot;Integer value expected for %s, got %s&quot;,
<a name="l469"><span class="linenum"> 469</span></a>                                'count.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>, <a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('count_s')" href="../../../../_variables/count_s.html">$count_s</a>));
<a name="l470"><span class="linenum"> 470</span></a>                  }
<a name="l471"><span class="linenum"> 471</span></a>  
<a name="l472"><span class="linenum"> 472</span></a>                  <a class="var it2066" onMouseOver="hilite(2066)" onMouseOut="lolite()" onClick="logVariable('attrinfo')" href="../../../../_variables/attrinfo.html">$attrinfo</a> = <a class="class" onClick="logClass('Auth_OpenID_AX_AttrInfo')" href="../../../../_classes/auth_openid_ax_attrinfo.html" onMouseOver="classPopup(event,'auth_openid_ax_attrinfo')">Auth_OpenID_AX_AttrInfo</a>::<a class="function" onClick="logFunction('make')" href="../../../../_functions/make.html" onMouseOver="funcPopup(event,'make')">make</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>,
<a name="l473"><span class="linenum"> 473</span></a>                                                            false, <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>);
<a name="l474"><span class="linenum"> 474</span></a>  
<a name="l475"><span class="linenum"> 475</span></a>                  if (<a class="class" onClick="logClass('Auth_OpenID_AX')" href="../../../../_classes/auth_openid_ax.html" onMouseOver="classPopup(event,'auth_openid_ax')">Auth_OpenID_AX</a>::<a class="function" onClick="logFunction('isError')" href="../../../../_functions/iserror.html" onMouseOver="funcPopup(event,'iserror')">isError</a>(<a class="var it2066" onMouseOver="hilite(2066)" onMouseOut="lolite()" onClick="logVariable('attrinfo')" href="../../../../_variables/attrinfo.html">$attrinfo</a>)) {
<a name="l476"><span class="linenum"> 476</span></a>                      return <a class="var it2066" onMouseOver="hilite(2066)" onMouseOut="lolite()" onClick="logVariable('attrinfo')" href="../../../../_variables/attrinfo.html">$attrinfo</a>;
<a name="l477"><span class="linenum"> 477</span></a>                  }
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it2066" onMouseOver="hilite(2066)" onMouseOut="lolite()" onClick="logVariable('attrinfo')" href="../../../../_variables/attrinfo.html">$attrinfo</a>);
<a name="l480"><span class="linenum"> 480</span></a>              }
<a name="l481"><span class="linenum"> 481</span></a>          }
<a name="l482"><span class="linenum"> 482</span></a>  
<a name="l483"><span class="linenum"> 483</span></a>          <a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a> = <a class="function" onClick="logFunction('Auth_OpenID_AX_toTypeURIs')" href="../../../../_functions/auth_openid_ax_totypeuris.html" onMouseOver="funcPopup(event,'auth_openid_ax_totypeuris')">Auth_OpenID_AX_toTypeURIs</a>(<a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>,
<a name="l484"><span class="linenum"> 484</span></a>                           <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="function" onClick="logFunction('arrayGet')" href="../../../../_functions/arrayget.html" onMouseOver="funcPopup(event,'arrayget')">arrayGet</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>, 'required'));
<a name="l485"><span class="linenum"> 485</span></a>  
<a name="l486"><span class="linenum"> 486</span></a>          foreach (<a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a> as <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>) {
<a name="l487"><span class="linenum"> 487</span></a>              <a class="var it2067" onMouseOver="hilite(2067)" onMouseOut="lolite()" onClick="logVariable('attrib')" href="../../../../_variables/attrib.html">$attrib</a> =&amp; <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('requested_attributes')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/requested_attributes.html">requested_attributes</a>[<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>];
<a name="l488"><span class="linenum"> 488</span></a>              <a class="var it2067" onMouseOver="hilite(2067)" onMouseOut="lolite()" onClick="logVariable('attrib')" href="../../../../_variables/attrib.html">$attrib</a>-&gt;<a onClick="logVariable('required')" class="var it2300" onMouseOver="hilite(2300)" onMouseOut="lolite()" href="../../../../_variables/required.html">required</a> = true;
<a name="l489"><span class="linenum"> 489</span></a>          }
<a name="l490"><span class="linenum"> 490</span></a>  
<a name="l491"><span class="linenum"> 491</span></a>          <a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('if_available')" href="../../../../_variables/if_available.html">$if_available</a> = <a class="function" onClick="logFunction('Auth_OpenID_AX_toTypeURIs')" href="../../../../_functions/auth_openid_ax_totypeuris.html" onMouseOver="funcPopup(event,'auth_openid_ax_totypeuris')">Auth_OpenID_AX_toTypeURIs</a>(<a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>,
<a name="l492"><span class="linenum"> 492</span></a>                               <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="function" onClick="logFunction('arrayGet')" href="../../../../_functions/arrayget.html" onMouseOver="funcPopup(event,'arrayget')">arrayGet</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>, 'if_available'));
<a name="l493"><span class="linenum"> 493</span></a>  
<a name="l494"><span class="linenum"> 494</span></a>          <a class="var it2068" onMouseOver="hilite(2068)" onMouseOut="lolite()" onClick="logVariable('all_type_uris')" href="../../../../_variables/all_type_uris.html">$all_type_uris</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it1732" onMouseOver="hilite(1732)" onMouseOut="lolite()" onClick="logVariable('required')" href="../../../../_variables/required.html">$required</a>, <a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('if_available')" href="../../../../_variables/if_available.html">$if_available</a>);
<a name="l495"><span class="linenum"> 495</span></a>  
<a name="l496"><span class="linenum"> 496</span></a>          foreach (<a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>-&gt;<a class="function" onClick="logFunction('iterNamespaceURIs')" href="../../../../_functions/iternamespaceuris.html" onMouseOver="funcPopup(event,'iternamespaceuris')">iterNamespaceURIs</a>() as <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>) {
<a name="l497"><span class="linenum"> 497</span></a>              if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it2068" onMouseOver="hilite(2068)" onMouseOut="lolite()" onClick="logVariable('all_type_uris')" href="../../../../_variables/all_type_uris.html">$all_type_uris</a>)) {
<a name="l498"><span class="linenum"> 498</span></a>                  return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l499"><span class="linenum"> 499</span></a>                    sprintf('Type URI %s was in the request but not ' .
<a name="l500"><span class="linenum"> 500</span></a>                            'present in &quot;required&quot; or &quot;if_available&quot;',
<a name="l501"><span class="linenum"> 501</span></a>                            <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>));
<a name="l502"><span class="linenum"> 502</span></a>  
<a name="l503"><span class="linenum"> 503</span></a>              }
<a name="l504"><span class="linenum"> 504</span></a>          }
<a name="l505"><span class="linenum"> 505</span></a>  
<a name="l506"><span class="linenum"> 506</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('update_url')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/update_url.html">update_url</a> = <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="function" onClick="logFunction('arrayGet')" href="../../../../_functions/arrayget.html" onMouseOver="funcPopup(event,'arrayget')">arrayGet</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>, 'update_url');
<a name="l507"><span class="linenum"> 507</span></a>  
<a name="l508"><span class="linenum"> 508</span></a>          return true;
<a name="l509"><span class="linenum"> 509</span></a>      }
<a name="l510"><span class="linenum"> 510</span></a>  
<a name="l511"><span class="linenum"> 511</span></a>      <span class="comment">/**</span>
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment">     * Iterate over the AttrInfo objects that are contained in this</span>
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment">     * fetch_request.</span>
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">     */</span>
<a name="l515"><span class="linenum"> 515</span></a>      function <a class="function" onClick="logFunction('iterAttrs')" href="../../../../_functions/iterattrs.html" onMouseOver="funcPopup(event,'iterattrs')">iterAttrs</a>()
<a name="l516"><span class="linenum"> 516</span></a>      {
<a name="l517"><span class="linenum"> 517</span></a>          return <a class="phpfunction" onClick="logFunction('array_values')" href="../../../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('requested_attributes')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/requested_attributes.html">requested_attributes</a>);
<a name="l518"><span class="linenum"> 518</span></a>      }
<a name="l519"><span class="linenum"> 519</span></a>  
<a name="l520"><span class="linenum"> 520</span></a>      function <a class="function" onClick="logFunction('iterTypes')" href="../../../../_functions/itertypes.html" onMouseOver="funcPopup(event,'itertypes')">iterTypes</a>()
<a name="l521"><span class="linenum"> 521</span></a>      {
<a name="l522"><span class="linenum"> 522</span></a>          return <a class="phpfunction" onClick="logFunction('array_keys')" href="../../../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('requested_attributes')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/requested_attributes.html">requested_attributes</a>);
<a name="l523"><span class="linenum"> 523</span></a>      }
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>      <span class="comment">/**</span>
<a name="l526"><span class="linenum"> 526</span></a>  <span class="comment">     * Is the given type URI present in this fetch_request?</span>
<a name="l527"><span class="linenum"> 527</span></a>  <span class="comment">     */</span>
<a name="l528"><span class="linenum"> 528</span></a>      function <a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>)
<a name="l529"><span class="linenum"> 529</span></a>      {
<a name="l530"><span class="linenum"> 530</span></a>          return <a class="phpfunction" onClick="logFunction('in_array')" href="../../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('iterTypes')" href="../../../../_functions/itertypes.html" onMouseOver="funcPopup(event,'itertypes')">iterTypes</a>());
<a name="l531"><span class="linenum"> 531</span></a>      }
<a name="l532"><span class="linenum"> 532</span></a>  }
<a name="l533"><span class="linenum"> 533</span></a>  
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">/**</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment"> * An abstract class that implements a message that has attribute keys</span>
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment"> * and values. It contains the common code between fetch_response and</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment"> * store_request.</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment"> *</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment"> */</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_OpenID_AX_KeyValueMessage')" href="../../../../_classes/auth_openid_ax_keyvaluemessage.html" onMouseOver="classPopup(event,'auth_openid_ax_keyvaluemessage')">Auth_OpenID_AX_KeyValueMessage</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('Auth_OpenID_AX_Message')" href="../../../../_classes/auth_openid_ax_message.html" onMouseOver="classPopup(event,'auth_openid_ax_message')">Auth_OpenID_AX_Message</a> {
<a name="l542"><span class="linenum"> 542</span></a>  
<a name="l543"><span class="linenum"> 543</span></a>      function <a class="function" onClick="logFunction('Auth_OpenID_AX_KeyValueMessage')" href="../../../../_functions/auth_openid_ax_keyvaluemessage.html" onMouseOver="funcPopup(event,'auth_openid_ax_keyvaluemessage')">Auth_OpenID_AX_KeyValueMessage</a>()
<a name="l544"><span class="linenum"> 544</span></a>      {
<a name="l545"><span class="linenum"> 545</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a> = array();
<a name="l546"><span class="linenum"> 546</span></a>      }
<a name="l547"><span class="linenum"> 547</span></a>  
<a name="l548"><span class="linenum"> 548</span></a>      <span class="comment">/**</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">     * Add a single value for the given attribute type to the</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">     * message. If there are already values specified for this type,</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">     * this value will be sent in addition to the values already</span>
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">     * specified.</span>
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">     *</span>
<a name="l554"><span class="linenum"> 554</span></a>  <span class="comment">     * @param type_uri: The URI for the attribute</span>
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">     * @param value: The value to add to the response to the relying</span>
<a name="l556"><span class="linenum"> 556</span></a>  <span class="comment">     * party for this attribute</span>
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment">     * @return null</span>
<a name="l558"><span class="linenum"> 558</span></a>  <span class="comment">     */</span>
<a name="l559"><span class="linenum"> 559</span></a>      function <a class="function" onClick="logFunction('addValue')" href="../../../../_functions/addvalue.html" onMouseOver="funcPopup(event,'addvalue')">addValue</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>)
<a name="l560"><span class="linenum"> 560</span></a>      {
<a name="l561"><span class="linenum"> 561</span></a>          if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>)) {
<a name="l562"><span class="linenum"> 562</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>] = array();
<a name="l563"><span class="linenum"> 563</span></a>          }
<a name="l564"><span class="linenum"> 564</span></a>  
<a name="l565"><span class="linenum"> 565</span></a>          <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a> =&amp; <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>];
<a name="l566"><span class="linenum"> 566</span></a>          <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>[] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>;
<a name="l567"><span class="linenum"> 567</span></a>      }
<a name="l568"><span class="linenum"> 568</span></a>  
<a name="l569"><span class="linenum"> 569</span></a>      <span class="comment">/**</span>
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">     * Set the values for the given attribute type. This replaces any</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">     * values that have already been set for this attribute.</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">     *</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment">     * @param type_uri: The URI for the attribute</span>
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment">     * @param values: A list of values to send for this attribute.</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment">     */</span>
<a name="l576"><span class="linenum"> 576</span></a>      function <a class="function" onClick="logFunction('setValues')" href="../../../../_functions/setvalues.html" onMouseOver="funcPopup(event,'setvalues')">setValues</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, &amp;<a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>)
<a name="l577"><span class="linenum"> 577</span></a>      {
<a name="l578"><span class="linenum"> 578</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>] =&amp; <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>;
<a name="l579"><span class="linenum"> 579</span></a>      }
<a name="l580"><span class="linenum"> 580</span></a>  
<a name="l581"><span class="linenum"> 581</span></a>      <span class="comment">/**</span>
<a name="l582"><span class="linenum"> 582</span></a>  <span class="comment">     * Get the extension arguments for the key/value pairs contained</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">     * in this message.</span>
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">     *</span>
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">     * @param aliases: An alias mapping. Set to None if you don't care</span>
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">     * about the aliases for this request.</span>
<a name="l587"><span class="linenum"> 587</span></a>  <span class="comment">     *</span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment">     * @access private</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">     */</span>
<a name="l590"><span class="linenum"> 590</span></a>      function <a class="function" onClick="logFunction('_getExtensionKVArgs')" href="../../../../_functions/_getextensionkvargs.html" onMouseOver="funcPopup(event,'_getextensionkvargs')">_getExtensionKVArgs</a>(&amp;<a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>)
<a name="l591"><span class="linenum"> 591</span></a>      {
<a name="l592"><span class="linenum"> 592</span></a>          if (<a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a> === null) {
<a name="l593"><span class="linenum"> 593</span></a>              <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_NamespaceMap')" href="../../../../_classes/auth_openid_namespacemap.html" onMouseOver="classPopup(event,'auth_openid_namespacemap')">Auth_OpenID_NamespaceMap</a>();
<a name="l594"><span class="linenum"> 594</span></a>          }
<a name="l595"><span class="linenum"> 595</span></a>  
<a name="l596"><span class="linenum"> 596</span></a>          <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> = array();
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>          foreach (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a> as <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a> =&gt; <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>) {
<a name="l599"><span class="linenum"> 599</span></a>              <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> = <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>);
<a name="l600"><span class="linenum"> 600</span></a>  
<a name="l601"><span class="linenum"> 601</span></a>              <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>['type.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>] = <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>;
<a name="l602"><span class="linenum"> 602</span></a>              <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>['count.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>] = <a class="phpfunction" onClick="logFunction('strval')" href="../../../../_functions/strval.html" onMouseOver="phpfuncPopup(event,'strval')">strval</a>(<a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>));
<a name="l603"><span class="linenum"> 603</span></a>  
<a name="l604"><span class="linenum"> 604</span></a>              foreach (<a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a> as <a class="var it166" onMouseOver="hilite(166)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>) {
<a name="l605"><span class="linenum"> 605</span></a>                <a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a> = sprintf('value.%s.%d', <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>, <a class="var it166" onMouseOver="hilite(166)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> + 1);
<a name="l606"><span class="linenum"> 606</span></a>                <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>[<a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a>] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>;
<a name="l607"><span class="linenum"> 607</span></a>              }
<a name="l608"><span class="linenum"> 608</span></a>          }
<a name="l609"><span class="linenum"> 609</span></a>  
<a name="l610"><span class="linenum"> 610</span></a>          return <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>;
<a name="l611"><span class="linenum"> 611</span></a>      }
<a name="l612"><span class="linenum"> 612</span></a>  
<a name="l613"><span class="linenum"> 613</span></a>      <span class="comment">/**</span>
<a name="l614"><span class="linenum"> 614</span></a>  <span class="comment">     * Parse attribute exchange key/value arguments into this object.</span>
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">     *</span>
<a name="l616"><span class="linenum"> 616</span></a>  <span class="comment">     * @param ax_args: The attribute exchange fetch_response</span>
<a name="l617"><span class="linenum"> 617</span></a>  <span class="comment">     * arguments, with namespacing removed.</span>
<a name="l618"><span class="linenum"> 618</span></a>  <span class="comment">     *</span>
<a name="l619"><span class="linenum"> 619</span></a>  <span class="comment">     * @return Auth_OpenID_AX_Error or true</span>
<a name="l620"><span class="linenum"> 620</span></a>  <span class="comment">     */</span>
<a name="l621"><span class="linenum"> 621</span></a>      function <a class="function" onClick="logFunction('parseExtensionArgs')" href="../../../../_functions/parseextensionargs.html" onMouseOver="funcPopup(event,'parseextensionargs')">parseExtensionArgs</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>)
<a name="l622"><span class="linenum"> 622</span></a>      {
<a name="l623"><span class="linenum"> 623</span></a>          <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_checkMode')" href="../../../../_functions/_checkmode.html" onMouseOver="funcPopup(event,'_checkmode')">_checkMode</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>);
<a name="l624"><span class="linenum"> 624</span></a>          if (<a class="class" onClick="logClass('Auth_OpenID_AX')" href="../../../../_classes/auth_openid_ax.html" onMouseOver="classPopup(event,'auth_openid_ax')">Auth_OpenID_AX</a>::<a class="function" onClick="logFunction('isError')" href="../../../../_functions/iserror.html" onMouseOver="funcPopup(event,'iserror')">isError</a>(<a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>)) {
<a name="l625"><span class="linenum"> 625</span></a>              return <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l626"><span class="linenum"> 626</span></a>          }
<a name="l627"><span class="linenum"> 627</span></a>  
<a name="l628"><span class="linenum"> 628</span></a>          <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_NamespaceMap')" href="../../../../_classes/auth_openid_namespacemap.html" onMouseOver="classPopup(event,'auth_openid_namespacemap')">Auth_OpenID_NamespaceMap</a>();
<a name="l629"><span class="linenum"> 629</span></a>  
<a name="l630"><span class="linenum"> 630</span></a>          foreach (<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> as <a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a> =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>) {
<a name="l631"><span class="linenum"> 631</span></a>              if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a>, 'type.') === 0) {
<a name="l632"><span class="linenum"> 632</span></a>                  <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>;
<a name="l633"><span class="linenum"> 633</span></a>                  <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a>, 5);
<a name="l634"><span class="linenum"> 634</span></a>  
<a name="l635"><span class="linenum"> 635</span></a>                  <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('Auth_OpenID_AX_checkAlias')" href="../../../../_functions/auth_openid_ax_checkalias.html" onMouseOver="funcPopup(event,'auth_openid_ax_checkalias')">Auth_OpenID_AX_checkAlias</a>(<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>);
<a name="l636"><span class="linenum"> 636</span></a>  
<a name="l637"><span class="linenum"> 637</span></a>                  if (<a class="class" onClick="logClass('Auth_OpenID_AX')" href="../../../../_classes/auth_openid_ax.html" onMouseOver="classPopup(event,'auth_openid_ax')">Auth_OpenID_AX</a>::<a class="function" onClick="logFunction('isError')" href="../../../../_functions/iserror.html" onMouseOver="funcPopup(event,'iserror')">isError</a>(<a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>)) {
<a name="l638"><span class="linenum"> 638</span></a>                      return <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l639"><span class="linenum"> 639</span></a>                  }
<a name="l640"><span class="linenum"> 640</span></a>  
<a name="l641"><span class="linenum"> 641</span></a>                  <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> = <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>-&gt;<a class="function" onClick="logFunction('addAlias')" href="../../../../_functions/addalias.html" onMouseOver="funcPopup(event,'addalias')">addAlias</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>);
<a name="l642"><span class="linenum"> 642</span></a>  
<a name="l643"><span class="linenum"> 643</span></a>                  if (<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> === null) {
<a name="l644"><span class="linenum"> 644</span></a>                      return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l645"><span class="linenum"> 645</span></a>                        sprintf(&quot;Could not add alias %s for URI %s&quot;,
<a name="l646"><span class="linenum"> 646</span></a>                                <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>, <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>)
<a name="l647"><span class="linenum"> 647</span></a>                        );
<a name="l648"><span class="linenum"> 648</span></a>                  }
<a name="l649"><span class="linenum"> 649</span></a>              }
<a name="l650"><span class="linenum"> 650</span></a>          }
<a name="l651"><span class="linenum"> 651</span></a>  
<a name="l652"><span class="linenum"> 652</span></a>          foreach (<a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>-&gt;<a class="function" onClick="logFunction('iteritems')" href="../../../../_functions/iteritems.html" onMouseOver="funcPopup(event,'iteritems')">iteritems</a>() as <a class="var it209" onMouseOver="hilite(209)" onMouseOut="lolite()" onClick="logVariable('pair')" href="../../../../_variables/pair.html">$pair</a>) {
<a name="l653"><span class="linenum"> 653</span></a>              list(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>) = <a class="var it209" onMouseOver="hilite(209)" onMouseOut="lolite()" onClick="logVariable('pair')" href="../../../../_variables/pair.html">$pair</a>;
<a name="l654"><span class="linenum"> 654</span></a>  
<a name="l655"><span class="linenum"> 655</span></a>              if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>('count.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>, <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>)) {
<a name="l656"><span class="linenum"> 656</span></a>  
<a name="l657"><span class="linenum"> 657</span></a>                  <a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('count_key')" href="../../../../_variables/count_key.html">$count_key</a> = 'count.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>;
<a name="l658"><span class="linenum"> 658</span></a>                  <a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('count_s')" href="../../../../_variables/count_s.html">$count_s</a> = <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>[<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('count_key')" href="../../../../_variables/count_key.html">$count_key</a>];
<a name="l659"><span class="linenum"> 659</span></a>  
<a name="l660"><span class="linenum"> 660</span></a>                  <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> = <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('count_s')" href="../../../../_variables/count_s.html">$count_s</a>);
<a name="l661"><span class="linenum"> 661</span></a>  
<a name="l662"><span class="linenum"> 662</span></a>                  if (<a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> === false) {
<a name="l663"><span class="linenum"> 663</span></a>                      return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l664"><span class="linenum"> 664</span></a>                        sprintf(&quot;Integer value expected for %s, got %s&quot;,
<a name="l665"><span class="linenum"> 665</span></a>                                'count. %s' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>, <a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('count_s')" href="../../../../_variables/count_s.html">$count_s</a>,
<a name="l666"><span class="linenum"> 666</span></a>                                Auth_OpenID_AX_UNLIMITED_VALUES)
<a name="l667"><span class="linenum"> 667</span></a>                                                      );
<a name="l668"><span class="linenum"> 668</span></a>                  }
<a name="l669"><span class="linenum"> 669</span></a>  
<a name="l670"><span class="linenum"> 670</span></a>                  <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a> = array();
<a name="l671"><span class="linenum"> 671</span></a>                  for (<a class="var it166" onMouseOver="hilite(166)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = 1; <a class="var it166" onMouseOver="hilite(166)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &lt; <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> + 1; <a class="var it166" onMouseOver="hilite(166)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>++) {
<a name="l672"><span class="linenum"> 672</span></a>                      <a class="var it2070" onMouseOver="hilite(2070)" onMouseOut="lolite()" onClick="logVariable('value_key')" href="../../../../_variables/value_key.html">$value_key</a> = sprintf('value.%s.%d', <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>, <a class="var it166" onMouseOver="hilite(166)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>);
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>                      if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it2070" onMouseOver="hilite(2070)" onMouseOut="lolite()" onClick="logVariable('value_key')" href="../../../../_variables/value_key.html">$value_key</a>, <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>)) {
<a name="l675"><span class="linenum"> 675</span></a>                        return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l676"><span class="linenum"> 676</span></a>                          sprintf(
<a name="l677"><span class="linenum"> 677</span></a>                                  &quot;No value found for key %s&quot;,
<a name="l678"><span class="linenum"> 678</span></a>                                  <a class="var it2070" onMouseOver="hilite(2070)" onMouseOut="lolite()" onClick="logVariable('value_key')" href="../../../../_variables/value_key.html">$value_key</a>));
<a name="l679"><span class="linenum"> 679</span></a>                      }
<a name="l680"><span class="linenum"> 680</span></a>  
<a name="l681"><span class="linenum"> 681</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a> = <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>[<a class="var it2070" onMouseOver="hilite(2070)" onMouseOut="lolite()" onClick="logVariable('value_key')" href="../../../../_variables/value_key.html">$value_key</a>];
<a name="l682"><span class="linenum"> 682</span></a>                      <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>[] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>;
<a name="l683"><span class="linenum"> 683</span></a>                  }
<a name="l684"><span class="linenum"> 684</span></a>              } else {
<a name="l685"><span class="linenum"> 685</span></a>                  <a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a> = 'value.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>;
<a name="l686"><span class="linenum"> 686</span></a>  
<a name="l687"><span class="linenum"> 687</span></a>                  if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a>, <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>)) {
<a name="l688"><span class="linenum"> 688</span></a>                    return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l689"><span class="linenum"> 689</span></a>                      sprintf(
<a name="l690"><span class="linenum"> 690</span></a>                              &quot;No value found for key %s&quot;,
<a name="l691"><span class="linenum"> 691</span></a>                              <a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a>));
<a name="l692"><span class="linenum"> 692</span></a>                  }
<a name="l693"><span class="linenum"> 693</span></a>  
<a name="l694"><span class="linenum"> 694</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a> = <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>['value.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>];
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>                  if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a> == '') {
<a name="l697"><span class="linenum"> 697</span></a>                      <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a> = array();
<a name="l698"><span class="linenum"> 698</span></a>                  } else {
<a name="l699"><span class="linenum"> 699</span></a>                      <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a> = array(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>);
<a name="l700"><span class="linenum"> 700</span></a>                  }
<a name="l701"><span class="linenum"> 701</span></a>              }
<a name="l702"><span class="linenum"> 702</span></a>  
<a name="l703"><span class="linenum"> 703</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>] = <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>;
<a name="l704"><span class="linenum"> 704</span></a>          }
<a name="l705"><span class="linenum"> 705</span></a>  
<a name="l706"><span class="linenum"> 706</span></a>          return true;
<a name="l707"><span class="linenum"> 707</span></a>      }
<a name="l708"><span class="linenum"> 708</span></a>  
<a name="l709"><span class="linenum"> 709</span></a>      <span class="comment">/**</span>
<a name="l710"><span class="linenum"> 710</span></a>  <span class="comment">     * Get a single value for an attribute. If no value was sent for</span>
<a name="l711"><span class="linenum"> 711</span></a>  <span class="comment">     * this attribute, use the supplied default. If there is more than</span>
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">     * one value for this attribute, this method will fail.</span>
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">     *</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     * @param type_uri: The URI for the attribute</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     * @param default: The value to return if the attribute was not</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * sent in the fetch_response.</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     *</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment">     * @return $value Auth_OpenID_AX_Error on failure or the value of</span>
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment">     * the attribute in the fetch_response message, or the default</span>
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment">     * supplied</span>
<a name="l721"><span class="linenum"> 721</span></a>  <span class="comment">     */</span>
<a name="l722"><span class="linenum"> 722</span></a>      function <a class="function" onClick="logFunction('getSingle')" href="../../../../_functions/getsingle.html" onMouseOver="funcPopup(event,'getsingle')">getSingle</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it617" onMouseOver="hilite(617)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../../../_variables/default.html">$default</a>=null)
<a name="l723"><span class="linenum"> 723</span></a>      {
<a name="l724"><span class="linenum"> 724</span></a>          <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a> = <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="function" onClick="logFunction('arrayGet')" href="../../../../_functions/arrayget.html" onMouseOver="funcPopup(event,'arrayget')">arrayGet</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>, <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>);
<a name="l725"><span class="linenum"> 725</span></a>          if (!<a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>) {
<a name="l726"><span class="linenum"> 726</span></a>              return <a class="var it617" onMouseOver="hilite(617)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../../../_variables/default.html">$default</a>;
<a name="l727"><span class="linenum"> 727</span></a>          } else if (<a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>) == 1) {
<a name="l728"><span class="linenum"> 728</span></a>              return <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>[0];
<a name="l729"><span class="linenum"> 729</span></a>          } else {
<a name="l730"><span class="linenum"> 730</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l731"><span class="linenum"> 731</span></a>                sprintf('More than one value present for %s',
<a name="l732"><span class="linenum"> 732</span></a>                        <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>)
<a name="l733"><span class="linenum"> 733</span></a>                );
<a name="l734"><span class="linenum"> 734</span></a>          }
<a name="l735"><span class="linenum"> 735</span></a>      }
<a name="l736"><span class="linenum"> 736</span></a>  
<a name="l737"><span class="linenum"> 737</span></a>      <span class="comment">/**</span>
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment">     * Get the list of values for this attribute in the</span>
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment">     * fetch_response.</span>
<a name="l740"><span class="linenum"> 740</span></a>  <span class="comment">     *</span>
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment">     * XXX: what to do if the values are not present? default</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment">     * parameter? this is funny because it's always supposed to return</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment">     * a list, so the default may break that, though it's provided by</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment">     * the user's code, so it might be okay. If no default is</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment">     * supplied, should the return be None or []?</span>
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment">     *</span>
<a name="l747"><span class="linenum"> 747</span></a>  <span class="comment">     * @param type_uri: The URI of the attribute</span>
<a name="l748"><span class="linenum"> 748</span></a>  <span class="comment">     *</span>
<a name="l749"><span class="linenum"> 749</span></a>  <span class="comment">     * @return $values The list of values for this attribute in the</span>
<a name="l750"><span class="linenum"> 750</span></a>  <span class="comment">     * response. May be an empty list.  If the attribute was not sent</span>
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">     * in the response, returns Auth_OpenID_AX_Error.</span>
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment">     */</span>
<a name="l753"><span class="linenum"> 753</span></a>      function <a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>)
<a name="l754"><span class="linenum"> 754</span></a>      {
<a name="l755"><span class="linenum"> 755</span></a>          if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>)) {
<a name="l756"><span class="linenum"> 756</span></a>              return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>];
<a name="l757"><span class="linenum"> 757</span></a>          } else {
<a name="l758"><span class="linenum"> 758</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l759"><span class="linenum"> 759</span></a>                sprintf(&quot;Type URI %s not found in response&quot;,
<a name="l760"><span class="linenum"> 760</span></a>                        <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>)
<a name="l761"><span class="linenum"> 761</span></a>                );
<a name="l762"><span class="linenum"> 762</span></a>          }
<a name="l763"><span class="linenum"> 763</span></a>      }
<a name="l764"><span class="linenum"> 764</span></a>  
<a name="l765"><span class="linenum"> 765</span></a>      <span class="comment">/**</span>
<a name="l766"><span class="linenum"> 766</span></a>  <span class="comment">     * Get the number of responses for a particular attribute in this</span>
<a name="l767"><span class="linenum"> 767</span></a>  <span class="comment">     * fetch_response message.</span>
<a name="l768"><span class="linenum"> 768</span></a>  <span class="comment">     *</span>
<a name="l769"><span class="linenum"> 769</span></a>  <span class="comment">     * @param type_uri: The URI of the attribute</span>
<a name="l770"><span class="linenum"> 770</span></a>  <span class="comment">     *</span>
<a name="l771"><span class="linenum"> 771</span></a>  <span class="comment">     * @returns int The number of values sent for this attribute.  If</span>
<a name="l772"><span class="linenum"> 772</span></a>  <span class="comment">     * the attribute was not sent in the response, returns</span>
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment">     * Auth_OpenID_AX_Error.</span>
<a name="l774"><span class="linenum"> 774</span></a>  <span class="comment">     */</span>
<a name="l775"><span class="linenum"> 775</span></a>      function <a class="function" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="funcPopup(event,'count')">count</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>)
<a name="l776"><span class="linenum"> 776</span></a>      {
<a name="l777"><span class="linenum"> 777</span></a>          if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>)) {
<a name="l778"><span class="linenum"> 778</span></a>              return <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>));
<a name="l779"><span class="linenum"> 779</span></a>          } else {
<a name="l780"><span class="linenum"> 780</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l781"><span class="linenum"> 781</span></a>                sprintf(&quot;Type URI %s not found in response&quot;,
<a name="l782"><span class="linenum"> 782</span></a>                        <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>)
<a name="l783"><span class="linenum"> 783</span></a>                );
<a name="l784"><span class="linenum"> 784</span></a>          }
<a name="l785"><span class="linenum"> 785</span></a>      }
<a name="l786"><span class="linenum"> 786</span></a>  }
<a name="l787"><span class="linenum"> 787</span></a>  
<a name="l788"><span class="linenum"> 788</span></a>  <span class="comment">/**</span>
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment"> * A fetch_response attribute exchange message.</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment"> *</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment"> */</span>
<a name="l793"><span class="linenum"> 793</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_OpenID_AX_FetchResponse')" href="../../../../_classes/auth_openid_ax_fetchresponse.html" onMouseOver="classPopup(event,'auth_openid_ax_fetchresponse')">Auth_OpenID_AX_FetchResponse</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('Auth_OpenID_AX_KeyValueMessage')" href="../../../../_classes/auth_openid_ax_keyvaluemessage.html" onMouseOver="classPopup(event,'auth_openid_ax_keyvaluemessage')">Auth_OpenID_AX_KeyValueMessage</a> {
<a name="l794"><span class="linenum"> 794</span></a>      var <a class="var it824" onMouseOver="hilite(824)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a> = 'fetch_response';
<a name="l795"><span class="linenum"> 795</span></a>  
<a name="l796"><span class="linenum"> 796</span></a>      function <a class="function" onClick="logFunction('Auth_OpenID_AX_FetchResponse')" href="../../../../_functions/auth_openid_ax_fetchresponse.html" onMouseOver="funcPopup(event,'auth_openid_ax_fetchresponse')">Auth_OpenID_AX_FetchResponse</a>(<a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('update_url')" href="../../../../_variables/update_url.html">$update_url</a>=null)
<a name="l797"><span class="linenum"> 797</span></a>      {
<a name="l798"><span class="linenum"> 798</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('Auth_OpenID_AX_KeyValueMessage')" href="../../../../_functions/auth_openid_ax_keyvaluemessage.html" onMouseOver="funcPopup(event,'auth_openid_ax_keyvaluemessage')">Auth_OpenID_AX_KeyValueMessage</a>();
<a name="l799"><span class="linenum"> 799</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('update_url')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/update_url.html">update_url</a> = <a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('update_url')" href="../../../../_variables/update_url.html">$update_url</a>;
<a name="l800"><span class="linenum"> 800</span></a>      }
<a name="l801"><span class="linenum"> 801</span></a>  
<a name="l802"><span class="linenum"> 802</span></a>      <span class="comment">/**</span>
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment">     * Serialize this object into arguments in the attribute exchange</span>
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">     * namespace</span>
<a name="l805"><span class="linenum"> 805</span></a>  <span class="comment">     *</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">     * @return $args The dictionary of unqualified attribute exchange</span>
<a name="l807"><span class="linenum"> 807</span></a>  <span class="comment">     * arguments that represent this fetch_response, or</span>
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">     * Auth_OpenID_AX_Error on error.</span>
<a name="l809"><span class="linenum"> 809</span></a>  <span class="comment">     */</span>
<a name="l810"><span class="linenum"> 810</span></a>      function <a class="function" onClick="logFunction('getExtensionArgs')" href="../../../../_functions/getextensionargs.html" onMouseOver="funcPopup(event,'getextensionargs')">getExtensionArgs</a>(<a class="var it278" onMouseOver="hilite(278)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a>=null)
<a name="l811"><span class="linenum"> 811</span></a>      {
<a name="l812"><span class="linenum"> 812</span></a>          <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_NamespaceMap')" href="../../../../_classes/auth_openid_namespacemap.html" onMouseOver="classPopup(event,'auth_openid_namespacemap')">Auth_OpenID_NamespaceMap</a>();
<a name="l813"><span class="linenum"> 813</span></a>  
<a name="l814"><span class="linenum"> 814</span></a>          <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('zero_value_types')" href="../../../../_variables/zero_value_types.html">$zero_value_types</a> = array();
<a name="l815"><span class="linenum"> 815</span></a>  
<a name="l816"><span class="linenum"> 816</span></a>          if (<a class="var it278" onMouseOver="hilite(278)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a> !== null) {
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment">            // Validate the data in the context of the request (the</span>
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment">            // same attributes should be present in each, and the</span>
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">            // counts in the response must be no more than the counts</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">            // in the request)</span>
<a name="l821"><span class="linenum"> 821</span></a>  
<a name="l822"><span class="linenum"> 822</span></a>              foreach (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a> as <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a> =&gt; <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../../../../_variables/unused.html">$unused</a>) {
<a name="l823"><span class="linenum"> 823</span></a>                  if (!<a class="var it278" onMouseOver="hilite(278)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a>-&gt;<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(<a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>)) {
<a name="l824"><span class="linenum"> 824</span></a>                      return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l825"><span class="linenum"> 825</span></a>                        sprintf(&quot;Response attribute not present in request: %s&quot;,
<a name="l826"><span class="linenum"> 826</span></a>                                <a class="var it847" onMouseOver="hilite(847)" onMouseOut="lolite()" onClick="logVariable('type_uri')" href="../../../../_variables/type_uri.html">$type_uri</a>)
<a name="l827"><span class="linenum"> 827</span></a>                        );
<a name="l828"><span class="linenum"> 828</span></a>                  }
<a name="l829"><span class="linenum"> 829</span></a>              }
<a name="l830"><span class="linenum"> 830</span></a>  
<a name="l831"><span class="linenum"> 831</span></a>              foreach (<a class="var it278" onMouseOver="hilite(278)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a>-&gt;<a class="function" onClick="logFunction('iterAttrs')" href="../../../../_functions/iterattrs.html" onMouseOver="funcPopup(event,'iterattrs')">iterAttrs</a>() as <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>) {
<a name="l832"><span class="linenum"> 832</span></a>  <span class="comment">                // Copy the aliases from the request so that reading</span>
<a name="l833"><span class="linenum"> 833</span></a>  <span class="comment">                // the response in light of the request is easier</span>
<a name="l834"><span class="linenum"> 834</span></a>                  if (<a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('alias')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/alias.html">alias</a> === null) {
<a name="l835"><span class="linenum"> 835</span></a>                      <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>);
<a name="l836"><span class="linenum"> 836</span></a>                  } else {
<a name="l837"><span class="linenum"> 837</span></a>                      <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> = <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>-&gt;<a class="function" onClick="logFunction('addAlias')" href="../../../../_functions/addalias.html" onMouseOver="funcPopup(event,'addalias')">addAlias</a>(<a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>,
<a name="l838"><span class="linenum"> 838</span></a>                                                  <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('alias')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/alias.html">alias</a>);
<a name="l839"><span class="linenum"> 839</span></a>  
<a name="l840"><span class="linenum"> 840</span></a>                      if (<a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> === null) {
<a name="l841"><span class="linenum"> 841</span></a>                          return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l842"><span class="linenum"> 842</span></a>                            sprintf(&quot;Could not add alias %s for URI %s&quot;,
<a name="l843"><span class="linenum"> 843</span></a>                                    <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('alias')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/alias.html">alias</a>, <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>)
<a name="l844"><span class="linenum"> 844</span></a>                            );
<a name="l845"><span class="linenum"> 845</span></a>                      }
<a name="l846"><span class="linenum"> 846</span></a>                  }
<a name="l847"><span class="linenum"> 847</span></a>  
<a name="l848"><span class="linenum"> 848</span></a>                  if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>)) {
<a name="l849"><span class="linenum"> 849</span></a>                      <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('data')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[<a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>];
<a name="l850"><span class="linenum"> 850</span></a>                  } else {
<a name="l851"><span class="linenum"> 851</span></a>                      <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a> = array();
<a name="l852"><span class="linenum"> 852</span></a>                      <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('zero_value_types')" href="../../../../_variables/zero_value_types.html">$zero_value_types</a>[] = <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>;
<a name="l853"><span class="linenum"> 853</span></a>                  }
<a name="l854"><span class="linenum"> 854</span></a>  
<a name="l855"><span class="linenum"> 855</span></a>                  if ((<a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('count')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/count.html">count</a> != Auth_OpenID_AX_UNLIMITED_VALUES) &amp;&amp;
<a name="l856"><span class="linenum"> 856</span></a>                      (<a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('count')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/count.html">count</a> &lt; <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../../../_variables/values.html">$values</a>))) {
<a name="l857"><span class="linenum"> 857</span></a>                      return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>(
<a name="l858"><span class="linenum"> 858</span></a>                        sprintf(&quot;More than the number of requested values &quot; .
<a name="l859"><span class="linenum"> 859</span></a>                                &quot;were specified for %s&quot;,
<a name="l860"><span class="linenum"> 860</span></a>                                <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>)
<a name="l861"><span class="linenum"> 861</span></a>                        );
<a name="l862"><span class="linenum"> 862</span></a>                  }
<a name="l863"><span class="linenum"> 863</span></a>              }
<a name="l864"><span class="linenum"> 864</span></a>          }
<a name="l865"><span class="linenum"> 865</span></a>  
<a name="l866"><span class="linenum"> 866</span></a>          <a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('kv_args')" href="../../../../_variables/kv_args.html">$kv_args</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_getExtensionKVArgs')" href="../../../../_functions/_getextensionkvargs.html" onMouseOver="funcPopup(event,'_getextensionkvargs')">_getExtensionKVArgs</a>(<a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>);
<a name="l867"><span class="linenum"> 867</span></a>  
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment">        // Add the KV args into the response with the args that are</span>
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment">        // unique to the fetch_response</span>
<a name="l870"><span class="linenum"> 870</span></a>          <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_newArgs')" href="../../../../_functions/_newargs.html" onMouseOver="funcPopup(event,'_newargs')">_newArgs</a>();
<a name="l871"><span class="linenum"> 871</span></a>  
<a name="l872"><span class="linenum"> 872</span></a>  <span class="comment">        // For each requested attribute, put its type/alias and count</span>
<a name="l873"><span class="linenum"> 873</span></a>  <span class="comment">        // into the response even if no data were returned.</span>
<a name="l874"><span class="linenum"> 874</span></a>          foreach (<a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('zero_value_types')" href="../../../../_variables/zero_value_types.html">$zero_value_types</a> as <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>) {
<a name="l875"><span class="linenum"> 875</span></a>              <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a> = <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>-&gt;<a class="function" onClick="logFunction('getAlias')" href="../../../../_functions/getalias.html" onMouseOver="funcPopup(event,'getalias')">getAlias</a>(<a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>);
<a name="l876"><span class="linenum"> 876</span></a>              <a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('kv_args')" href="../../../../_variables/kv_args.html">$kv_args</a>['type.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>] = <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('attr_info')" href="../../../../_variables/attr_info.html">$attr_info</a>-&gt;<a onClick="logVariable('type_uri')" class="var it2301" onMouseOver="hilite(2301)" onMouseOut="lolite()" href="../../../../_variables/type_uri.html">type_uri</a>;
<a name="l877"><span class="linenum"> 877</span></a>              <a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('kv_args')" href="../../../../_variables/kv_args.html">$kv_args</a>['count.' . <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('alias')" href="../../../../_variables/alias.html">$alias</a>] = '0';
<a name="l878"><span class="linenum"> 878</span></a>          }
<a name="l879"><span class="linenum"> 879</span></a>  
<a name="l880"><span class="linenum"> 880</span></a>          <a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('update_url')" href="../../../../_variables/update_url.html">$update_url</a> = null;
<a name="l881"><span class="linenum"> 881</span></a>          if (<a class="var it278" onMouseOver="hilite(278)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a>) {
<a name="l882"><span class="linenum"> 882</span></a>              <a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('update_url')" href="../../../../_variables/update_url.html">$update_url</a> = <a class="var it278" onMouseOver="hilite(278)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a>-&gt;<a onClick="logVariable('update_url')" class="var it2299" onMouseOver="hilite(2299)" onMouseOut="lolite()" href="../../../../_variables/update_url.html">update_url</a>;
<a name="l883"><span class="linenum"> 883</span></a>          } else {
<a name="l884"><span class="linenum"> 884</span></a>              <a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('update_url')" href="../../../../_variables/update_url.html">$update_url</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('update_url')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/update_url.html">update_url</a>;
<a name="l885"><span class="linenum"> 885</span></a>          }
<a name="l886"><span class="linenum"> 886</span></a>  
<a name="l887"><span class="linenum"> 887</span></a>          if (<a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('update_url')" href="../../../../_variables/update_url.html">$update_url</a>) {
<a name="l888"><span class="linenum"> 888</span></a>              <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>['update_url'] = <a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('update_url')" href="../../../../_variables/update_url.html">$update_url</a>;
<a name="l889"><span class="linenum"> 889</span></a>          }
<a name="l890"><span class="linenum"> 890</span></a>  
<a name="l891"><span class="linenum"> 891</span></a>          <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="function" onClick="logFunction('update')" href="../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(&amp;<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>, <a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('kv_args')" href="../../../../_variables/kv_args.html">$kv_args</a>);
<a name="l892"><span class="linenum"> 892</span></a>  
<a name="l893"><span class="linenum"> 893</span></a>          return <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>;
<a name="l894"><span class="linenum"> 894</span></a>      }
<a name="l895"><span class="linenum"> 895</span></a>  
<a name="l896"><span class="linenum"> 896</span></a>      <span class="comment">/**</span>
<a name="l897"><span class="linenum"> 897</span></a>  <span class="comment">     * @return $result Auth_OpenID_AX_Error on failure or true on</span>
<a name="l898"><span class="linenum"> 898</span></a>  <span class="comment">     * success.</span>
<a name="l899"><span class="linenum"> 899</span></a>  <span class="comment">     */</span>
<a name="l900"><span class="linenum"> 900</span></a>      function <a class="function" onClick="logFunction('parseExtensionArgs')" href="../../../../_functions/parseextensionargs.html" onMouseOver="funcPopup(event,'parseextensionargs')">parseExtensionArgs</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>)
<a name="l901"><span class="linenum"> 901</span></a>      {
<a name="l902"><span class="linenum"> 902</span></a>          <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = parent::<a class="function" onClick="logFunction('parseExtensionArgs')" href="../../../../_functions/parseextensionargs.html" onMouseOver="funcPopup(event,'parseextensionargs')">parseExtensionArgs</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>);
<a name="l903"><span class="linenum"> 903</span></a>  
<a name="l904"><span class="linenum"> 904</span></a>          if (<a class="class" onClick="logClass('Auth_OpenID_AX')" href="../../../../_classes/auth_openid_ax.html" onMouseOver="classPopup(event,'auth_openid_ax')">Auth_OpenID_AX</a>::<a class="function" onClick="logFunction('isError')" href="../../../../_functions/iserror.html" onMouseOver="funcPopup(event,'iserror')">isError</a>(<a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>)) {
<a name="l905"><span class="linenum"> 905</span></a>              return <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l906"><span class="linenum"> 906</span></a>          }
<a name="l907"><span class="linenum"> 907</span></a>  
<a name="l908"><span class="linenum"> 908</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('update_url')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/update_url.html">update_url</a> = <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="function" onClick="logFunction('arrayGet')" href="../../../../_functions/arrayget.html" onMouseOver="funcPopup(event,'arrayget')">arrayGet</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>, 'update_url');
<a name="l909"><span class="linenum"> 909</span></a>  
<a name="l910"><span class="linenum"> 910</span></a>          return true;
<a name="l911"><span class="linenum"> 911</span></a>      }
<a name="l912"><span class="linenum"> 912</span></a>  
<a name="l913"><span class="linenum"> 913</span></a>      <span class="comment">/**</span>
<a name="l914"><span class="linenum"> 914</span></a>  <span class="comment">     * Construct a FetchResponse object from an OpenID library</span>
<a name="l915"><span class="linenum"> 915</span></a>  <span class="comment">     * SuccessResponse object.</span>
<a name="l916"><span class="linenum"> 916</span></a>  <span class="comment">     *</span>
<a name="l917"><span class="linenum"> 917</span></a>  <span class="comment">     * @param success_response: A successful id_res response object</span>
<a name="l918"><span class="linenum"> 918</span></a>  <span class="comment">     *</span>
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment">     * @param signed: Whether non-signed args should be processsed. If</span>
<a name="l920"><span class="linenum"> 920</span></a>  <span class="comment">     * True (the default), only signed arguments will be processsed.</span>
<a name="l921"><span class="linenum"> 921</span></a>  <span class="comment">     *</span>
<a name="l922"><span class="linenum"> 922</span></a>  <span class="comment">     * @return $response A FetchResponse containing the data from the</span>
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment">     * OpenID message</span>
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment">     */</span>
<a name="l925"><span class="linenum"> 925</span></a>      function <a class="function" onClick="logFunction('fromSuccessResponse')" href="../../../../_functions/fromsuccessresponse.html" onMouseOver="funcPopup(event,'fromsuccessresponse')">fromSuccessResponse</a>(<a class="var it1738" onMouseOver="hilite(1738)" onMouseOut="lolite()" onClick="logVariable('success_response')" href="../../../../_variables/success_response.html">$success_response</a>, <a class="var it858" onMouseOver="hilite(858)" onMouseOut="lolite()" onClick="logVariable('signed')" href="../../../../_variables/signed.html">$signed</a>=true)
<a name="l926"><span class="linenum"> 926</span></a>      {
<a name="l927"><span class="linenum"> 927</span></a>          <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_FetchResponse')" href="../../../../_classes/auth_openid_ax_fetchresponse.html" onMouseOver="classPopup(event,'auth_openid_ax_fetchresponse')">Auth_OpenID_AX_FetchResponse</a>();
<a name="l928"><span class="linenum"> 928</span></a>          if (<a class="var it858" onMouseOver="hilite(858)" onMouseOut="lolite()" onClick="logVariable('signed')" href="../../../../_variables/signed.html">$signed</a>) {
<a name="l929"><span class="linenum"> 929</span></a>              <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> = <a class="var it1738" onMouseOver="hilite(1738)" onMouseOut="lolite()" onClick="logVariable('success_response')" href="../../../../_variables/success_response.html">$success_response</a>-&gt;<a class="function" onClick="logFunction('getSignedNS')" href="../../../../_functions/getsignedns.html" onMouseOver="funcPopup(event,'getsignedns')">getSignedNS</a>(<a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('ns_uri')" class="var it2277" onMouseOver="hilite(2277)" onMouseOut="lolite()" href="../../../../_variables/ns_uri.html">ns_uri</a>);
<a name="l930"><span class="linenum"> 930</span></a>          } else {
<a name="l931"><span class="linenum"> 931</span></a>              <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> = <a class="var it1738" onMouseOver="hilite(1738)" onMouseOut="lolite()" onClick="logVariable('success_response')" href="../../../../_variables/success_response.html">$success_response</a>-&gt;<a onClick="logVariable('message')" class="var it2302" onMouseOver="hilite(2302)" onMouseOut="lolite()" href="../../../../_variables/message.html">message</a>-&gt;<a class="function" onClick="logFunction('getArgs')" href="../../../../_functions/getargs.html" onMouseOver="funcPopup(event,'getargs')">getArgs</a>(<a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('ns_uri')" class="var it2277" onMouseOver="hilite(2277)" onMouseOut="lolite()" href="../../../../_variables/ns_uri.html">ns_uri</a>);
<a name="l932"><span class="linenum"> 932</span></a>          }
<a name="l933"><span class="linenum"> 933</span></a>          if (<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> === null || <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="function" onClick="logFunction('isFailure')" href="../../../../_functions/isfailure.html" onMouseOver="funcPopup(event,'isfailure')">isFailure</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>) ||
<a name="l934"><span class="linenum"> 934</span></a>                sizeof(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>) == 0) {
<a name="l935"><span class="linenum"> 935</span></a>              return null;
<a name="l936"><span class="linenum"> 936</span></a>          }
<a name="l937"><span class="linenum"> 937</span></a>  
<a name="l938"><span class="linenum"> 938</span></a>          <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>-&gt;<a class="function" onClick="logFunction('parseExtensionArgs')" href="../../../../_functions/parseextensionargs.html" onMouseOver="funcPopup(event,'parseextensionargs')">parseExtensionArgs</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>);
<a name="l939"><span class="linenum"> 939</span></a>          if (<a class="class" onClick="logClass('Auth_OpenID_AX')" href="../../../../_classes/auth_openid_ax.html" onMouseOver="classPopup(event,'auth_openid_ax')">Auth_OpenID_AX</a>::<a class="function" onClick="logFunction('isError')" href="../../../../_functions/iserror.html" onMouseOver="funcPopup(event,'iserror')">isError</a>(<a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>)) {
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">            #XXX log me</span>
<a name="l941"><span class="linenum"> 941</span></a>              return null;
<a name="l942"><span class="linenum"> 942</span></a>          }
<a name="l943"><span class="linenum"> 943</span></a>          return <a class="var it953" onMouseOver="hilite(953)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../../../_variables/obj.html">$obj</a>;
<a name="l944"><span class="linenum"> 944</span></a>      }
<a name="l945"><span class="linenum"> 945</span></a>  }
<a name="l946"><span class="linenum"> 946</span></a>  
<a name="l947"><span class="linenum"> 947</span></a>  <span class="comment">/**</span>
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment"> * A store request attribute exchange message representation.</span>
<a name="l949"><span class="linenum"> 949</span></a>  <span class="comment"> *</span>
<a name="l950"><span class="linenum"> 950</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l951"><span class="linenum"> 951</span></a>  <span class="comment"> */</span>
<a name="l952"><span class="linenum"> 952</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_OpenID_AX_StoreRequest')" href="../../../../_classes/auth_openid_ax_storerequest.html" onMouseOver="classPopup(event,'auth_openid_ax_storerequest')">Auth_OpenID_AX_StoreRequest</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('Auth_OpenID_AX_KeyValueMessage')" href="../../../../_classes/auth_openid_ax_keyvaluemessage.html" onMouseOver="classPopup(event,'auth_openid_ax_keyvaluemessage')">Auth_OpenID_AX_KeyValueMessage</a> {
<a name="l953"><span class="linenum"> 953</span></a>      var <a class="var it824" onMouseOver="hilite(824)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a> = 'store_request';
<a name="l954"><span class="linenum"> 954</span></a>  
<a name="l955"><span class="linenum"> 955</span></a>      <span class="comment">/**</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment">     * @param array $aliases The namespace aliases to use when making</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment">     * this store response. Leave as None to use defaults.</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment">     */</span>
<a name="l959"><span class="linenum"> 959</span></a>      function <a class="function" onClick="logFunction('getExtensionArgs')" href="../../../../_functions/getextensionargs.html" onMouseOver="funcPopup(event,'getextensionargs')">getExtensionArgs</a>(<a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>=null)
<a name="l960"><span class="linenum"> 960</span></a>      {
<a name="l961"><span class="linenum"> 961</span></a>          <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_newArgs')" href="../../../../_functions/_newargs.html" onMouseOver="funcPopup(event,'_newargs')">_newArgs</a>();
<a name="l962"><span class="linenum"> 962</span></a>          <a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('kv_args')" href="../../../../_variables/kv_args.html">$kv_args</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_getExtensionKVArgs')" href="../../../../_functions/_getextensionkvargs.html" onMouseOver="funcPopup(event,'_getextensionkvargs')">_getExtensionKVArgs</a>(<a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('aliases')" href="../../../../_variables/aliases.html">$aliases</a>);
<a name="l963"><span class="linenum"> 963</span></a>          <a class="class" onClick="logClass('Auth_OpenID')" href="../../../../_classes/auth_openid.html" onMouseOver="classPopup(event,'auth_openid')">Auth_OpenID</a>::<a class="function" onClick="logFunction('update')" href="../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(&amp;<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>, <a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('kv_args')" href="../../../../_variables/kv_args.html">$kv_args</a>);
<a name="l964"><span class="linenum"> 964</span></a>          return <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>;
<a name="l965"><span class="linenum"> 965</span></a>      }
<a name="l966"><span class="linenum"> 966</span></a>  }
<a name="l967"><span class="linenum"> 967</span></a>  
<a name="l968"><span class="linenum"> 968</span></a>  <span class="comment">/**</span>
<a name="l969"><span class="linenum"> 969</span></a>  <span class="comment"> * An indication that the store request was processed along with this</span>
<a name="l970"><span class="linenum"> 970</span></a>  <span class="comment"> * OpenID transaction.  Use make(), NOT the constructor, to create</span>
<a name="l971"><span class="linenum"> 971</span></a>  <span class="comment"> * response objects.</span>
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment"> *</span>
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment"> */</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_OpenID_AX_StoreResponse')" href="../../../../_classes/auth_openid_ax_storeresponse.html" onMouseOver="classPopup(event,'auth_openid_ax_storeresponse')">Auth_OpenID_AX_StoreResponse</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('Auth_OpenID_AX_Message')" href="../../../../_classes/auth_openid_ax_message.html" onMouseOver="classPopup(event,'auth_openid_ax_message')">Auth_OpenID_AX_Message</a> {
<a name="l976"><span class="linenum"> 976</span></a>      var <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('SUCCESS_MODE')" href="../../../../_variables/SUCCESS_MODE.html">$SUCCESS_MODE</a> = 'store_response_success';
<a name="l977"><span class="linenum"> 977</span></a>      var <a class="var it2075" onMouseOver="hilite(2075)" onMouseOut="lolite()" onClick="logVariable('FAILURE_MODE')" href="../../../../_variables/FAILURE_MODE.html">$FAILURE_MODE</a> = 'store_response_failure';
<a name="l978"><span class="linenum"> 978</span></a>  
<a name="l979"><span class="linenum"> 979</span></a>      <span class="comment">/**</span>
<a name="l980"><span class="linenum"> 980</span></a>  <span class="comment">     * Returns Auth_OpenID_AX_Error on error or an</span>
<a name="l981"><span class="linenum"> 981</span></a>  <span class="comment">     * Auth_OpenID_AX_StoreResponse object on success.</span>
<a name="l982"><span class="linenum"> 982</span></a>  <span class="comment">     */</span>
<a name="l983"><span class="linenum"> 983</span></a>      function &amp;<a class="function" onClick="logFunction('make')" href="../../../../_functions/make.html" onMouseOver="funcPopup(event,'make')">make</a>(<a class="var it1714" onMouseOver="hilite(1714)" onMouseOut="lolite()" onClick="logVariable('succeeded')" href="../../../../_variables/succeeded.html">$succeeded</a>=true, <a class="var it2076" onMouseOver="hilite(2076)" onMouseOut="lolite()" onClick="logVariable('error_message')" href="../../../../_variables/error_message.html">$error_message</a>=null)
<a name="l984"><span class="linenum"> 984</span></a>      {
<a name="l985"><span class="linenum"> 985</span></a>          if ((<a class="var it1714" onMouseOver="hilite(1714)" onMouseOut="lolite()" onClick="logVariable('succeeded')" href="../../../../_variables/succeeded.html">$succeeded</a>) &amp;&amp; (<a class="var it2076" onMouseOver="hilite(2076)" onMouseOut="lolite()" onClick="logVariable('error_message')" href="../../../../_variables/error_message.html">$error_message</a> !== null)) {
<a name="l986"><span class="linenum"> 986</span></a>              return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_Error')" href="../../../../_classes/auth_openid_ax_error.html" onMouseOver="classPopup(event,'auth_openid_ax_error')">Auth_OpenID_AX_Error</a>('An error message may only be '.
<a name="l987"><span class="linenum"> 987</span></a>                                      'included in a failing fetch response');
<a name="l988"><span class="linenum"> 988</span></a>          }
<a name="l989"><span class="linenum"> 989</span></a>  
<a name="l990"><span class="linenum"> 990</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('Auth_OpenID_AX_StoreResponse')" href="../../../../_classes/auth_openid_ax_storeresponse.html" onMouseOver="classPopup(event,'auth_openid_ax_storeresponse')">Auth_OpenID_AX_StoreResponse</a>(<a class="var it1714" onMouseOver="hilite(1714)" onMouseOut="lolite()" onClick="logVariable('succeeded')" href="../../../../_variables/succeeded.html">$succeeded</a>, <a class="var it2076" onMouseOver="hilite(2076)" onMouseOut="lolite()" onClick="logVariable('error_message')" href="../../../../_variables/error_message.html">$error_message</a>);
<a name="l991"><span class="linenum"> 991</span></a>      }
<a name="l992"><span class="linenum"> 992</span></a>  
<a name="l993"><span class="linenum"> 993</span></a>      function <a class="function" onClick="logFunction('Auth_OpenID_AX_StoreResponse')" href="../../../../_functions/auth_openid_ax_storeresponse.html" onMouseOver="funcPopup(event,'auth_openid_ax_storeresponse')">Auth_OpenID_AX_StoreResponse</a>(<a class="var it1714" onMouseOver="hilite(1714)" onMouseOut="lolite()" onClick="logVariable('succeeded')" href="../../../../_variables/succeeded.html">$succeeded</a>=true, <a class="var it2076" onMouseOver="hilite(2076)" onMouseOut="lolite()" onClick="logVariable('error_message')" href="../../../../_variables/error_message.html">$error_message</a>=null)
<a name="l994"><span class="linenum"> 994</span></a>      {
<a name="l995"><span class="linenum"> 995</span></a>          if (<a class="var it1714" onMouseOver="hilite(1714)" onMouseOut="lolite()" onClick="logVariable('succeeded')" href="../../../../_variables/succeeded.html">$succeeded</a>) {
<a name="l996"><span class="linenum"> 996</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mode')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/mode.html">mode</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('SUCCESS_MODE')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/SUCCESS_MODE.html">SUCCESS_MODE</a>;
<a name="l997"><span class="linenum"> 997</span></a>          } else {
<a name="l998"><span class="linenum"> 998</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mode')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/mode.html">mode</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('FAILURE_MODE')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/FAILURE_MODE.html">FAILURE_MODE</a>;
<a name="l999"><span class="linenum"> 999</span></a>          }
<a name="l1000"><span class="linenum">1000</span></a>  
<a name="l1001"><span class="linenum">1001</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error_message')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/error_message.html">error_message</a> = <a class="var it2076" onMouseOver="hilite(2076)" onMouseOut="lolite()" onClick="logVariable('error_message')" href="../../../../_variables/error_message.html">$error_message</a>;
<a name="l1002"><span class="linenum">1002</span></a>      }
<a name="l1003"><span class="linenum">1003</span></a>  
<a name="l1004"><span class="linenum">1004</span></a>      <span class="comment">/**</span>
<a name="l1005"><span class="linenum">1005</span></a>  <span class="comment">     * Was this response a success response?</span>
<a name="l1006"><span class="linenum">1006</span></a>  <span class="comment">     */</span>
<a name="l1007"><span class="linenum">1007</span></a>      function <a class="function" onClick="logFunction('succeeded')" href="../../../../_functions/succeeded.html" onMouseOver="funcPopup(event,'succeeded')">succeeded</a>()
<a name="l1008"><span class="linenum">1008</span></a>      {
<a name="l1009"><span class="linenum">1009</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mode')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/mode.html">mode</a> == <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('SUCCESS_MODE')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/SUCCESS_MODE.html">SUCCESS_MODE</a>;
<a name="l1010"><span class="linenum">1010</span></a>      }
<a name="l1011"><span class="linenum">1011</span></a>  
<a name="l1012"><span class="linenum">1012</span></a>      function <a class="function" onClick="logFunction('getExtensionArgs')" href="../../../../_functions/getextensionargs.html" onMouseOver="funcPopup(event,'getextensionargs')">getExtensionArgs</a>()
<a name="l1013"><span class="linenum">1013</span></a>      {
<a name="l1014"><span class="linenum">1014</span></a>          <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_newArgs')" href="../../../../_functions/_newargs.html" onMouseOver="funcPopup(event,'_newargs')">_newArgs</a>();
<a name="l1015"><span class="linenum">1015</span></a>          if ((!<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('succeeded')" href="../../../../_functions/succeeded.html" onMouseOver="funcPopup(event,'succeeded')">succeeded</a>()) &amp;&amp; <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error_message')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/error_message.html">error_message</a>) {
<a name="l1016"><span class="linenum">1016</span></a>              <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>['error'] = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error_message')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/error_message.html">error_message</a>;
<a name="l1017"><span class="linenum">1017</span></a>          }
<a name="l1018"><span class="linenum">1018</span></a>  
<a name="l1019"><span class="linenum">1019</span></a>          return <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('ax_args')" href="../../../../_variables/ax_args.html">$ax_args</a>;
<a name="l1020"><span class="linenum">1020</span></a>      }
<a name="l1021"><span class="linenum">1021</span></a>  }
<a name="l1022"><span class="linenum">1022</span></a>  
<a name="l1023"><span class="linenum">1023</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'auth_openid_ax_keyvaluemessage': ['auth_openid_ax_keyvaluemessage', '', [['admin/oauth/Auth/OpenID','AX.php',543]], 1],
'_checkmode': ['_checkmode', 'Return Auth_OpenID_AX_Error if the mode in the attribute exchange arguments does not match what is expected for this class; true otherwise. ', [['admin/oauth/Auth/OpenID','AX.php',99]], 2],
'count': ['count', 'Get the number of entries in this feed object. ', [['admin/oauth/Zend/Gdata/App','Feed.php',127],['admin/oauth/Auth/OpenID','AX.php',765]], 141],
'iteritems': ['iteritems', '', [['admin/oauth/Auth/OpenID','Message.php',306]], 2],
'getnamespaceuri': ['getnamespaceuri', '', [['admin/oauth/Auth/OpenID','Message.php',289]], 4],
'succeeded': ['succeeded', 'Was this response a success response? ', [['admin/oauth/Auth/OpenID','AX.php',1004]], 1],
'auth_openid_ax_attrinfo': ['auth_openid_ax_attrinfo', 'Construct an attribute information object.  Do not call this directly; call make(...) instead. ', [['admin/oauth/Auth/OpenID','AX.php',140]], 1],
'isfailure': ['isfailure', '', [['admin/oauth/Auth/Yadis','Yadis.php',83],['admin/oauth/Auth','OpenID.php',117]], 38],
'arrayget': ['arrayget', 'Convenience function for getting array values.  Given an array $arr and a key $key, get the corresponding value from the array or return $default if the key is absent. ', [['admin/oauth/Auth','OpenID.php',237]], 29],
'addvalue': ['addvalue', 'Add a single value for the given attribute type to the message. If there are already values specified for this type, this value will be sent in addition to the values already specified. ', [['admin/oauth/Auth/OpenID','AX.php',548]], 0],
'update': ['update', '', [['admin/oauth/Auth','OpenID.php',513]], 2],
'setvalues': ['setvalues', 'Set the values for the given attribute type. This replaces any values that have already been set for this attribute. ', [['admin/oauth/Auth/OpenID','AX.php',569]], 0],
'getarg': ['getarg', '', [['admin/oauth/Auth/OpenID','Message.php',805]], 65],
'auth_openid_ax_storeresponse': ['auth_openid_ax_storeresponse', '', [['admin/oauth/Auth/OpenID','AX.php',993]], 1],
'iterattrs': ['iterattrs', 'Iterate over the AttrInfo objects that are contained in this fetch_request. ', [['admin/oauth/Auth/OpenID','AX.php',511]], 1],
'auth_openid_ax_error': ['auth_openid_ax_error', '', [['admin/oauth/Auth/OpenID','AX.php',72]], 22],
'contains': ['contains', 'Returns true if the specified value has a key in the mapping; false if not. ', [['admin/oauth/Auth/OpenID','Message.php',261],['admin/oauth/Auth/OpenID','Message.php',398],['admin/oauth/Auth/OpenID','SReg.php',300],['admin/oauth/Auth/OpenID','AX.php',525]], 20],
'_newargs': ['_newargs', 'Return a set of attribute exchange arguments containing the basic information that must be in every attribute exchange message. ', [['admin/oauth/Auth/OpenID','AX.php',119]], 4],
'fromopenidrequest': ['fromopenidrequest', 'Create a simple registration request that contains the fields that were requested in the OpenID request with the given arguments ', [['admin/oauth/Auth/OpenID','SReg.php',203],['admin/oauth/Auth/OpenID','AX.php',379],['admin/oauth/Auth/OpenID','PAPE.php',81]], 0],
'iserror': ['iserror', 'Returns true if $value constitutes a database error; returns false otherwise. ', [['admin/oauth/Auth/OpenID','SQLStore.php',175],['admin/oauth/Zend/Http','Response.php',194],['admin/oauth/Auth/OpenID','AX.php',41]], 14],
'add': ['add', '', [['fckeditor/editor/dialog/fck_select','fck_select.js',38],['admin/oauth/Auth/OpenID','Message.php',371],['admin/oauth/Auth/OpenID','BigMath.php',193],['admin/oauth/Auth/OpenID','BigMath.php',279],['admin/oauth/Auth/OpenID','AX.php',288]], 37],
'parseextensionargs': ['parseextensionargs', 'Parse the unqualified simple registration request parameters and add them to this object. ', [['admin/oauth/Auth/OpenID','SReg.php',238],['admin/oauth/Auth/OpenID','AX.php',424],['admin/oauth/Auth/OpenID','AX.php',613],['admin/oauth/Auth/OpenID','AX.php',900],['admin/oauth/Auth/OpenID','PAPE.php',98],['admin/oauth/Auth/OpenID','PAPE.php',224]], 6],
'getrequiredattrs': ['getrequiredattrs', 'Get the type URIs for all attributes that have been marked as required. ', [['admin/oauth/Auth/OpenID','AX.php',360]], 0],
'_getextensionkvargs': ['_getextensionkvargs', 'Get the extension arguments for the key/value pairs contained in this message. ', [['admin/oauth/Auth/OpenID','AX.php',581]], 2],
'auth_openid_ax_checkalias': ['auth_openid_ax_checkalias', 'Check an alias for invalid characters; raise AXError if any are found.  Return None if the alias is valid. ', [['admin/oauth/Auth/OpenID','AX.php',47]], 2],
'getalias': ['getalias', '', [['admin/oauth/Auth/OpenID','Message.php',284]], 4],
'get': ['get', 'GET a URI using client object. ', [['admin/oauth/Zend/Gdata','App.php',847],['admin/oauth/Zend','Registry.php',130],['admin/oauth/Zend/Gdata','Gapps.php',187],['admin/oauth/Auth/Yadis','ParanoidHTTPFetcher.php',78],['admin/oauth/Auth/Yadis','HTTPFetcher.php',129],['admin/oauth/Auth/OpenID','Message.php',206],['admin/oauth/Auth/OpenID','SReg.php',506],['admin/oauth/Auth/OpenID','AX.php',737],['admin/oauth/Auth/Yadis','Manager.php',29],['admin/oauth/Auth/Yadis','PlainHTTPFetcher.php',37]], 42],
'make': ['make', 'The OpenID namespace for this request. deprecated since version 2.0.2 ', [['admin/oauth/Auth/OpenID','Server.php',731],['admin/oauth/Auth/OpenID','AX.php',190],['admin/oauth/Auth/OpenID','AX.php',979]], 2],
'auth_openid_ax_totypeuris': ['auth_openid_ax_totypeuris', 'Given a namespace mapping and a string containing a comma-separated list of namespace aliases, return a list of type URIs that correspond to those aliases. ', [['admin/oauth/Auth/OpenID','AX.php',222]], 2],
'auth_openid_ax_fetchrequest': ['auth_openid_ax_fetchrequest', '', [['admin/oauth/Auth/OpenID','AX.php',272]], 1],
'itertypes': ['itertypes', '', [['admin/oauth/Auth/OpenID','AX.php',520]], 1],
'match': ['match', 'Does this URL match the given trust root? ', [['admin/oauth/Auth/OpenID','TrustRoot.php',258]], 77],
'fromsuccessresponse': ['fromsuccessresponse', 'Create a C{L{SRegResponse}} object from a successful OpenID library response (C{L{openid.consumer.consumer.SuccessResponse}}) response message ', [['admin/oauth/Auth/OpenID','SReg.php',460],['admin/oauth/Auth/OpenID','AX.php',913],['admin/oauth/Auth/OpenID','PAPE.php',194]], 0],
'addalias': ['addalias', '', [['admin/oauth/Auth/OpenID','Message.php',316]], 10],
'getargs': ['getargs', '', [['admin/oauth/Auth/OpenID','Message.php',824]], 8],
'auth_openid_ax_fetchresponse': ['auth_openid_ax_fetchresponse', '', [['admin/oauth/Auth/OpenID','AX.php',796]], 1],
'getextensionargs': ['getextensionargs', 'Get the string arguments that should be added to an OpenID message for this extension. ', [['admin/oauth/Auth/OpenID','Extension.php',28],['admin/oauth/Auth/OpenID','SReg.php',381],['admin/oauth/Auth/OpenID','SReg.php',500],['admin/oauth/Auth/OpenID','AX.php',308],['admin/oauth/Auth/OpenID','AX.php',802],['admin/oauth/Auth/OpenID','AX.php',959],['admin/oauth/Auth/OpenID','AX.php',1012],['admin/oauth/Auth/OpenID','PAPE.php',67],['admin/oauth/Auth/OpenID','PAPE.php',273]], 1],
'getsignedns': ['getsignedns', '', [['admin/oauth/Auth/OpenID','Consumer.php',2080]], 4],
'wantsunlimitedvalues': ['wantsunlimitedvalues', 'When processing a request for this attribute, the OP should call this method to determine whether all available attribute values were requested.  If self.count == UNLIMITED_VALUES, this returns True.  Otherwise this returns False, in which case self.count is an integer. ', [['admin/oauth/Auth/OpenID','AX.php',209]], 0],
'getsingle': ['getsingle', 'Get a single value for an attribute. If no value was sent for this attribute, use the supplied default. If there is more than one value for this attribute, this method will fail. ', [['admin/oauth/Auth/OpenID','AX.php',709]], 0],
'iternamespaceuris': ['iternamespaceuris', '', [['admin/oauth/Auth/OpenID','Message.php',294]], 1],
'array_key_exists': ['array_key_exists', '', [], 125],
'substr': ['substr', '', [], 214],
'explode': ['explode', '', [], 76],
'strpos': ['strpos', '', [], 73],
'array_merge': ['array_merge', '', [], 27],
'count': ['count', '', [], 141],
'in_array': ['in_array', '', [], 83],
'strval': ['strval', '', [], 12],
'array_values': ['array_values', '', [], 4],
'intval': ['intval', '', [], 24],
'is_a': ['is_a', '', [], 16],
'array_keys': ['array_keys', '', [], 20],
'implode': ['implode', '', [], 40],
'define': ['define', '', [], 176]};
CLASS_DATA={
'auth_openid_ax_fetchresponse': ['auth_openid_ax_fetchresponse', 'A fetch_response attribute exchange message. ', [['admin/oauth/Auth/OpenID','AX.php',788]], 1],
'auth_openid_extension': ['auth_openid_extension', 'A base class for accessing extension request and response data for the OpenID 2 protocol. ', [['admin/oauth/Auth/OpenID','Extension.php',14]], 4],
'auth_openid_ax_keyvaluemessage': ['auth_openid_ax_keyvaluemessage', 'An abstract class that implements a message that has attribute keys and values. It contains the common code between fetch_response and store_request. ', [['admin/oauth/Auth/OpenID','AX.php',534]], 2],
'auth_openid_ax_fetchrequest': ['auth_openid_ax_fetchrequest', 'An attribute exchange \'fetch_request\' message. This message is sent by a relying party when it wishes to obtain attributes about the subject of an OpenID authentication request. ', [['admin/oauth/Auth/OpenID','AX.php',261]], 1],
'auth_openid_trustroot': ['auth_openid_trustroot', 'A wrapper for trust-root related functions ', [['admin/oauth/Auth/OpenID','TrustRoot.php',46]], 11],
'auth_openid_ax_storeresponse': ['auth_openid_ax_storeresponse', 'An indication that the store request was processed along with this OpenID transaction.  Use make(), NOT the constructor, to create response objects. ', [['admin/oauth/Auth/OpenID','AX.php',968]], 1],
'auth_openid_namespacemap': ['auth_openid_namespacemap', 'Maintains a bijective map between namespace uris and aliases. ', [['admin/oauth/Auth/OpenID','Message.php',271]], 6],
'auth_openid_ax_message': ['auth_openid_ax_message', 'Abstract class containing common code for attribute exchange messages. ', [['admin/oauth/Auth/OpenID','AX.php',78]], 3],
'auth_openid_ax_error': ['auth_openid_ax_error', 'Results from data that does not meet the attribute exchange 1.0 specification ', [['admin/oauth/Auth/OpenID','AX.php',65]], 22],
'auth_openid': ['auth_openid', 'The OpenID utility function class. ', [['admin/oauth/Auth','OpenID.php',109]], 116],
'auth_openid_ax_attrinfo': ['auth_openid_ax_attrinfo', 'Represents a single attribute in an attribute exchange request. This should be added to an AXRequest object in order to request the attribute. ', [['admin/oauth/Auth/OpenID','AX.php',132]], 2],
'auth_openid_ax_storerequest': ['auth_openid_ax_storerequest', 'A store request attribute exchange message representation. ', [['admin/oauth/Auth/OpenID','AX.php',947]], 0],
'auth_openid_ax': ['auth_openid_ax', 'AX utility class. ', [['admin/oauth/Auth/OpenID','AX.php',28]], 8]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Tue Dec  7 15:36:31 2010</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7</a></i></td>
	</tr>
</table>
</body></html>
