<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7 : Virtual lab admin interface : Detail view of SReg.php</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Virtual lab admin interface</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7 at Tue Dec  7 15:36:31 2010 -->
<!-- PHPXref (c) 2000-2007 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='admin/oauth/Auth/OpenID';
filename='SReg.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/admin/oauth/Auth/OpenID/</a> -> <a href="SReg.php.source.html">SReg.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="SReg.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../../../_stats.html">Project Stats</a>]</p>
<p><b>Simple registration request and response parsing and object representation. This module contains objects representing simple registration requests and responses that can be used with both OpenID relying parties and OpenID providers.</b></p>
<table>
<tr><td align="right">File Size: </td><td>521 lines (16 kb)</td></tr>
<tr><td align="right">Included or required: </td><td><a href="SReg.php.xref.html">1 time</a></td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 3 classes</h3>
<div class="inset">
<p><b>Auth_OpenID_SRegBase::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#_getsregns">_getSRegNS</a>()<br>
</p>
<p><b>Auth_OpenID_SRegRequest::</b> (9 methods):<br>
&nbsp;&nbsp;<a href="#build">build</a>()<br>
&nbsp;&nbsp;<a href="#fromopenidrequest">fromOpenIDRequest</a>()<br>
&nbsp;&nbsp;<a href="#parseextensionargs">parseExtensionArgs</a>()<br>
&nbsp;&nbsp;<a href="#allrequestedfields">allRequestedFields</a>()<br>
&nbsp;&nbsp;<a href="#werefieldsrequested">wereFieldsRequested</a>()<br>
&nbsp;&nbsp;<a href="#contains">contains</a>()<br>
&nbsp;&nbsp;<a href="#requestfield">requestField</a>()<br>
&nbsp;&nbsp;<a href="#requestfields">requestFields</a>()<br>
&nbsp;&nbsp;<a href="#getextensionargs">getExtensionArgs</a>()<br>
</p>
<p><b>Auth_OpenID_SRegResponse::</b> (6 methods):<br>
&nbsp;&nbsp;<a href="#auth_openid_sregresponse">Auth_OpenID_SRegResponse</a>()<br>
&nbsp;&nbsp;<a href="#extractresponse">extractResponse</a>()<br>
&nbsp;&nbsp;<a href="#fromsuccessresponse">fromSuccessResponse</a>()<br>
&nbsp;&nbsp;<a href="#getextensionargs">getExtensionArgs</a>()<br>
&nbsp;&nbsp;<a href="#get">get</a>()<br>
&nbsp;&nbsp;<a href="#contents">contents</a>()<br>
</p>
</div>
<h3>Defines 6 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#auth_openid_checkfieldname">Auth_OpenID_checkFieldName</a>()<br>
&nbsp;&nbsp;<a href="#auth_openid_supportssreg">Auth_OpenID_supportsSReg</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="auth_openid_sregbase"><b>Auth_OpenID_SRegBase</b></a>&nbsp;&nbsp;- <a href="../../../../_classes/auth_openid_sregbase.html"><small>X-Ref</small></a>
</p>
<b>A base class for classes dealing with Simple Registration protocol<BR>
messages.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="_getsregns" onClick="logFunction('_getsregns', 'SReg.php.source.html#l110')" href="SReg.php.source.html#l110">_getSRegNS</a>(&amp;<a href="../../../../_variables/message.html">$message</a>)&nbsp;&nbsp;
<a href="../../../../_functions/_getsregns.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Extract the simple registration namespace URI from the given<BR>
OpenID message. Handles OpenID 1 and 2, as well as both sreg<BR>
namespace URIs found in the wild, as well as missing namespace<BR>
definitions (for OpenID 1)<BR>
</b><BR>$message: The OpenID message from which to parse simple<BR>
registration fields. This may be a request or response message.<BR>
<BR>
Returns the sreg namespace URI for the supplied message. The<BR>
message may be modified to define a simple registration<BR>
namespace.<BR>
<BR>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="auth_openid_sregrequest"><b>Auth_OpenID_SRegRequest</b></a>&nbsp;&nbsp;- <a href="../../../../_classes/auth_openid_sregrequest.html"><small>X-Ref</small></a>
</p>
<b>An object to hold the state of a simple registration request.<BR>
</b><br>
required: A list of the required fields in this simple registration<BR>
request<BR>
<BR>
optional: A list of the optional fields in this simple registration<BR>
request<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="build" onClick="logFunction('build', 'SReg.php.source.html#l173')" href="SReg.php.source.html#l173">build</a>(<a href="../../../../_variables/required.html">$required</a>=null, <a href="../../../../_variables/optional.html">$optional</a>=null,<a href="../../../../_variables/policy_url.html">$policy_url</a>=null,<a href="../../../../_variables/sreg_ns_uri.html">$sreg_ns_uri</a>=Auth_OpenID_SREG_NS_URI,<a href="../../../../_variables/cls.html">$cls</a>='Auth_OpenID_SRegRequest')&nbsp;&nbsp;
<a href="../../../../_functions/build.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialize an empty simple registration request.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="fromopenidrequest" onClick="logFunction('fromopenidrequest', 'SReg.php.source.html#l203')" href="SReg.php.source.html#l203">fromOpenIDRequest</a>(<a href="../../../../_variables/request.html">$request</a>, <a href="../../../../_variables/cls.html">$cls</a>='Auth_OpenID_SRegRequest')&nbsp;&nbsp;
<a href="../../../../_functions/fromopenidrequest.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a simple registration request that contains the fields<BR>
that were requested in the OpenID request with the given<BR>
arguments<BR>
</b><BR>$request: The OpenID authentication request from which to<BR>
extract an sreg request.<BR>
<BR>
$cls: name of class to use when creating sreg request object.<BR>
Used for testing.<BR>
<BR>
Returns the newly created simple registration request<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="parseextensionargs" onClick="logFunction('parseextensionargs', 'SReg.php.source.html#l238')" href="SReg.php.source.html#l238">parseExtensionArgs</a>(<a href="../../../../_variables/args.html">$args</a>, <a href="../../../../_variables/strict.html">$strict</a>=false)&nbsp;&nbsp;
<a href="../../../../_functions/parseextensionargs.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Parse the unqualified simple registration request parameters<BR>
and add them to this object.<BR>
</b><BR>This method is essentially the inverse of<BR>
getExtensionArgs. This method restores the serialized simple<BR>
registration request fields.<BR>
<BR>
If you are extracting arguments from a standard OpenID<BR>
checkid_* request, you probably want to use fromOpenIDRequest,<BR>
which will extract the sreg namespace and arguments from the<BR>
OpenID request. This method is intended for cases where the<BR>
OpenID server needs more control over how the arguments are<BR>
parsed than that method provides.<BR>
<BR>
$args == $message-&gt;getArgs($ns_uri);<BR>
$request-&gt;parseExtensionArgs($args);<BR>
<BR>
$args: The unqualified simple registration arguments<BR>
<BR>
strict: Whether requests with fields that are not defined in<BR>
the simple registration specification should be tolerated (and<BR>
ignored)<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="allrequestedfields" onClick="logFunction('allrequestedfields', 'SReg.php.source.html#l283')" href="SReg.php.source.html#l283">allRequestedFields</a>()&nbsp;&nbsp;
<a href="../../../../_functions/allrequestedfields.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>A list of all of the simple registration fields that were<BR>
requested, whether they were required or optional.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="werefieldsrequested" onClick="logFunction('werefieldsrequested', 'SReg.php.source.html#l292')" href="SReg.php.source.html#l292">wereFieldsRequested</a>()&nbsp;&nbsp;
<a href="../../../../_functions/werefieldsrequested.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Have any simple registration fields been requested?<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="contains" onClick="logFunction('contains', 'SReg.php.source.html#l300')" href="SReg.php.source.html#l300">contains</a>(<a href="../../../../_variables/field_name.html">$field_name</a>)&nbsp;&nbsp;
<a href="../../../../_functions/contains.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Was this field in the request?<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="requestfield" onClick="logFunction('requestfield', 'SReg.php.source.html#l309')" href="SReg.php.source.html#l309">requestField</a>(<a href="../../../../_variables/field_name.html">$field_name</a>,<a href="../../../../_variables/required.html">$required</a>=false, <a href="../../../../_variables/strict.html">$strict</a>=false)&nbsp;&nbsp;
<a href="../../../../_functions/requestfield.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Request the specified field from the OpenID user<BR>
</b><BR>$field_name: the unqualified simple registration field name<BR>
<BR>
required: whether the given field should be presented to the<BR>
user as being a required to successfully complete the request<BR>
<BR>
strict: whether to raise an exception when a field is added to<BR>
a request more than once<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="requestfields" onClick="logFunction('requestfields', 'SReg.php.source.html#l355')" href="SReg.php.source.html#l355">requestFields</a>(<a href="../../../../_variables/field_names.html">$field_names</a>, <a href="../../../../_variables/required.html">$required</a>=false, <a href="../../../../_variables/strict.html">$strict</a>=false)&nbsp;&nbsp;
<a href="../../../../_functions/requestfields.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add the given list of fields to the request<BR>
</b><BR>field_names: The simple registration data fields to request<BR>
<BR>
required: Whether these values should be presented to the user<BR>
as required<BR>
<BR>
strict: whether to raise an exception when a field is added to<BR>
a request more than once<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getextensionargs" onClick="logFunction('getextensionargs', 'SReg.php.source.html#l381')" href="SReg.php.source.html#l381">getExtensionArgs</a>()&nbsp;&nbsp;
<a href="../../../../_functions/getextensionargs.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a dictionary of unqualified simple registration arguments<BR>
representing this request.<BR>
</b><BR>This method is essentially the inverse of<BR>
C{L{parseExtensionArgs}}. This method serializes the simple<BR>
registration request fields.<BR>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="auth_openid_sregresponse"><b>Auth_OpenID_SRegResponse</b></a>&nbsp;&nbsp;- <a href="../../../../_classes/auth_openid_sregresponse.html"><small>X-Ref</small></a>
</p>
<b>Represents the data returned in a simple registration response<BR>
inside of an OpenID C{id_res} response. This object will be created<BR>
by the OpenID server, added to the C{id_res} response object, and<BR>
then extracted from the C{id_res} message by the Consumer.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="auth_openid_sregresponse" onClick="logFunction('auth_openid_sregresponse', 'SReg.php.source.html#l421')" href="SReg.php.source.html#l421">Auth_OpenID_SRegResponse</a>(<a href="../../../../_variables/data.html">$data</a>=null,<a href="../../../../_variables/sreg_ns_uri.html">$sreg_ns_uri</a>=Auth_OpenID_SREG_NS_URI)&nbsp;&nbsp;
<a href="../../../../_functions/auth_openid_sregresponse.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="extractresponse" onClick="logFunction('extractresponse', 'SReg.php.source.html#l433')" href="SReg.php.source.html#l433">extractResponse</a>(<a href="../../../../_variables/request.html">$request</a>, <a href="../../../../_variables/data.html">$data</a>)&nbsp;&nbsp;
<a href="../../../../_functions/extractresponse.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Take a C{L{SRegRequest}} and a dictionary of simple<BR>
registration values and create a C{L{SRegResponse}} object<BR>
containing that data.<BR>
</b><BR>request: The simple registration request object<BR>
<BR>
data: The simple registration data for this response, as a<BR>
dictionary from unqualified simple registration field name to<BR>
string (unicode) value. For instance, the nickname should be<BR>
stored under the key 'nickname'.<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="fromsuccessresponse" onClick="logFunction('fromsuccessresponse', 'SReg.php.source.html#l460')" href="SReg.php.source.html#l460">fromSuccessResponse</a>(&amp;<a href="../../../../_variables/success_response.html">$success_response</a>, <a href="../../../../_variables/signed_only.html">$signed_only</a>=true)&nbsp;&nbsp;
<a href="../../../../_functions/fromsuccessresponse.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a C{L{SRegResponse}} object from a successful OpenID<BR>
library response<BR>
(C{L{openid.consumer.consumer.SuccessResponse}}) response<BR>
message<BR>
</b><BR>success_response: A SuccessResponse from consumer.complete()<BR>
<BR>
signed_only: Whether to process only data that was<BR>
signed in the id_res message from the server.<BR>
<BR>
Returns a simple registration response containing the data that<BR>
was supplied with the C{id_res} response.<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getextensionargs" onClick="logFunction('getextensionargs', 'SReg.php.source.html#l500')" href="SReg.php.source.html#l500">getExtensionArgs</a>()&nbsp;&nbsp;
<a href="../../../../_functions/getextensionargs.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get" onClick="logFunction('get', 'SReg.php.source.html#l506')" href="SReg.php.source.html#l506">get</a>(<a href="../../../../_variables/field_name.html">$field_name</a>, <a href="../../../../_variables/default.html">$default</a>=null)&nbsp;&nbsp;
<a href="../../../../_functions/get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="contents" onClick="logFunction('contents', 'SReg.php.source.html#l515')" href="SReg.php.source.html#l515">contents</a>()&nbsp;&nbsp;
<a href="../../../../_functions/contents.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
</div>
</div>
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="auth_openid_checkfieldname" onClick="logFunction('auth_openid_checkfieldname', 'SReg.php.source.html#l61')" href="SReg.php.source.html#l61">Auth_OpenID_checkFieldName</a>(<a href="../../../../_variables/field_name.html">$field_name</a>)&nbsp;&nbsp;
<a href="../../../../_functions/auth_openid_checkfieldname.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check to see that the given value is a valid simple registration<BR>
data field name.&nbsp;&nbsp;Return true if so, false if not.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="auth_openid_supportssreg" onClick="logFunction('auth_openid_supportssreg', 'SReg.php.source.html#l90')" href="SReg.php.source.html#l90">Auth_OpenID_supportsSReg</a>(&amp;<a href="../../../../_variables/endpoint.html">$endpoint</a>)&nbsp;&nbsp;
<a href="../../../../_functions/auth_openid_supportssreg.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Does the given endpoint advertise support for simple<BR>
registration?<BR>
</b><BR>$endpoint: The endpoint object as returned by OpenID discovery.<BR>
returns whether an sreg type was advertised by the endpoint<BR>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Tue Dec  7 15:36:31 2010</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7</a></i></td>
	</tr>
</table>
</body></html>
