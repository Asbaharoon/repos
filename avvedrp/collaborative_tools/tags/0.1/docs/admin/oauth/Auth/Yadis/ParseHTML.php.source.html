<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7 : Virtual lab admin interface : /admin/oauth/Auth/Yadis/ParseHTML.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Virtual lab admin interface</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7 at Tue Dec  7 15:36:31 2010 -->
<!-- PHPXref (c) 2000-2007 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='admin/oauth/Auth/Yadis';
filename='ParseHTML.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/admin/oauth/Auth/Yadis/</a> -> <a href="ParseHTML.php.html">ParseHTML.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="ParseHTML.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="ParseHTML.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">/**</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * This is the HTML pseudo-parser for the Yadis library.</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> *</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * PHP versions 4 and 5</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * LICENSE: See the COPYING file included in this distribution.</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> *</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * @author JanRain, Inc. &lt;openid@janrain.com&gt;</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> * @copyright 2005-2008 Janrain, Inc.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * @license http://www.apache.org/licenses/LICENSE-2.0 Apache</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> */</span>
<a name="l15"><span class="linenum">  15</span></a>  
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">/**</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> * This class is responsible for scanning an HTML string to find META</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * tags and their attributes.  This is used by the Yadis discovery</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * process.  This class must be instantiated to be used.</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> *</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> */</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_Yadis_ParseHTML')" href="../../../../_classes/auth_yadis_parsehtml.html" onMouseOver="classPopup(event,'auth_yadis_parsehtml')">Auth_Yadis_ParseHTML</a> {
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>      <span class="comment">/**</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment">     * @access private</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">     */</span>
<a name="l28"><span class="linenum">  28</span></a>      var <a class="var it1857" onMouseOver="hilite(1857)" onMouseOut="lolite()" onClick="logVariable('_re_flags')" href="../../../../_variables/_re_flags.html">$_re_flags</a> = &quot;si&quot;;
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>      <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">     * @access private</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">     */</span>
<a name="l33"><span class="linenum">  33</span></a>      var <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('_removed_re')" href="../../../../_variables/_removed_re.html">$_removed_re</a> =
<a name="l34"><span class="linenum">  34</span></a>             &quot;&lt;!--.*?--&gt;|&lt;!\[CDATA\[.*?\]\]&gt;|&lt;script\b(?!:)[^&gt;]*&gt;.*?&lt;\/script&gt;&quot;;
<a name="l35"><span class="linenum">  35</span></a>  
<a name="l36"><span class="linenum">  36</span></a>      <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     * @access private</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     */</span>
<a name="l39"><span class="linenum">  39</span></a>      var <a class="var it1859" onMouseOver="hilite(1859)" onMouseOut="lolite()" onClick="logVariable('_tag_expr')" href="../../../../_variables/_tag_expr.html">$_tag_expr</a> = &quot;&lt;%s%s(?:\s.*?)?%s&gt;&quot;;
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>      <span class="comment">/**</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * @access private</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     */</span>
<a name="l44"><span class="linenum">  44</span></a>      var <a class="var it1860" onMouseOver="hilite(1860)" onMouseOut="lolite()" onClick="logVariable('_attr_find')" href="../../../../_variables/_attr_find.html">$_attr_find</a> = '\b([-\w]+)=(&quot;.*?&quot;|\'.*?\'|.+?)[\/\s&gt;]';
<a name="l45"><span class="linenum">  45</span></a>  
<a name="l46"><span class="linenum">  46</span></a>      function <a class="function" onClick="logFunction('Auth_Yadis_ParseHTML')" href="../../../../_functions/auth_yadis_parsehtml.html" onMouseOver="funcPopup(event,'auth_yadis_parsehtml')">Auth_Yadis_ParseHTML</a>()
<a name="l47"><span class="linenum">  47</span></a>      {
<a name="l48"><span class="linenum">  48</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_attr_find')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_attr_find.html">_attr_find</a> = sprintf(&quot;/%s/%s&quot;,
<a name="l49"><span class="linenum">  49</span></a>                                      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_attr_find')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_attr_find.html">_attr_find</a>,
<a name="l50"><span class="linenum">  50</span></a>                                      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_re_flags')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_re_flags.html">_re_flags</a>);
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_removed_re')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_removed_re.html">_removed_re</a> = sprintf(&quot;/%s/%s&quot;,
<a name="l53"><span class="linenum">  53</span></a>                                       <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_removed_re')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_removed_re.html">_removed_re</a>,
<a name="l54"><span class="linenum">  54</span></a>                                       <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_re_flags')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_re_flags.html">_re_flags</a>);
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_entity_replacements')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_entity_replacements.html">_entity_replacements</a> = array(
<a name="l57"><span class="linenum">  57</span></a>                                              'amp' =&gt; '&amp;',
<a name="l58"><span class="linenum">  58</span></a>                                              'lt' =&gt; '&lt;',
<a name="l59"><span class="linenum">  59</span></a>                                              'gt' =&gt; '&gt;',
<a name="l60"><span class="linenum">  60</span></a>                                              'quot' =&gt; '&quot;'
<a name="l61"><span class="linenum">  61</span></a>                                              );
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_ent_replace')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_ent_replace.html">_ent_replace</a> =
<a name="l64"><span class="linenum">  64</span></a>              sprintf(&quot;&amp;(%s);&quot;, <a class="phpfunction" onClick="logFunction('implode')" href="../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(&quot;|&quot;,
<a name="l65"><span class="linenum">  65</span></a>                                        <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_entity_replacements')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_entity_replacements.html">_entity_replacements</a>));
<a name="l66"><span class="linenum">  66</span></a>      }
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>      <span class="comment">/**</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     * Replace HTML entities (amp, lt, gt, and quot) as well as</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     * numeric entities (e.g. #x9f;) with their actual values and</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">     * return the new string.</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     *</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     * @access private</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">     * @param string $str The string in which to look for entities</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">     * @return string $new_str The new string entities decoded</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">     */</span>
<a name="l77"><span class="linenum">  77</span></a>      function <a class="function" onClick="logFunction('replaceEntities')" href="../../../../_functions/replaceentities.html" onMouseOver="funcPopup(event,'replaceentities')">replaceEntities</a>(<a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>)
<a name="l78"><span class="linenum">  78</span></a>      {
<a name="l79"><span class="linenum">  79</span></a>          foreach (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_entity_replacements')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_entity_replacements.html">_entity_replacements</a> as <a class="var it1869" onMouseOver="hilite(1869)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../../../_variables/old.html">$old</a> =&gt; <a class="var it1870" onMouseOver="hilite(1870)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../../../_variables/new.html">$new</a>) {
<a name="l80"><span class="linenum">  80</span></a>              <a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>(sprintf(&quot;/&amp;%s;/&quot;, <a class="var it1869" onMouseOver="hilite(1869)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../../../_variables/old.html">$old</a>), <a class="var it1870" onMouseOver="hilite(1870)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../../../_variables/new.html">$new</a>, <a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>);
<a name="l81"><span class="linenum">  81</span></a>          }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">        // Replace numeric entities because html_entity_decode doesn't</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">        // do it for us.</span>
<a name="l85"><span class="linenum">  85</span></a>          <a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('~&amp;#x([0-9a-f]+);~ei', '<a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(&quot;\\1&quot;))', <a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>);
<a name="l86"><span class="linenum">  86</span></a>          <a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('~&amp;#([0-9]+);~e', '<a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(\\1)', <a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>);
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>          return <a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>;
<a name="l89"><span class="linenum">  89</span></a>      }
<a name="l90"><span class="linenum">  90</span></a>  
<a name="l91"><span class="linenum">  91</span></a>      <span class="comment">/**</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     * Strip single and double quotes off of a string, if they are</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">     * present.</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     *</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     * @access private</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     * @param string $str The original string</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">     * @return string $new_str The new string with leading and</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">     * trailing quotes removed</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">     */</span>
<a name="l100"><span class="linenum"> 100</span></a>      function <a class="function" onClick="logFunction('removeQuotes')" href="../../../../_functions/removequotes.html" onMouseOver="funcPopup(event,'removequotes')">removeQuotes</a>(<a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>)
<a name="l101"><span class="linenum"> 101</span></a>      {
<a name="l102"><span class="linenum"> 102</span></a>          <a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../../_variables/matches.html">$matches</a> = array();
<a name="l103"><span class="linenum"> 103</span></a>          <a class="var it1871" onMouseOver="hilite(1871)" onMouseOut="lolite()" onClick="logVariable('double')" href="../../../../_variables/double.html">$double</a> = '/^&quot;(.*)&quot;$/';
<a name="l104"><span class="linenum"> 104</span></a>          <a class="var it1872" onMouseOver="hilite(1872)" onMouseOut="lolite()" onClick="logVariable('single')" href="../../../../_variables/single.html">$single</a> = &quot;/^\'(.*)\'$/&quot;;
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(<a class="var it1871" onMouseOver="hilite(1871)" onMouseOut="lolite()" onClick="logVariable('double')" href="../../../../_variables/double.html">$double</a>, <a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>, <a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../../_variables/matches.html">$matches</a>)) {
<a name="l107"><span class="linenum"> 107</span></a>              return <a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../../_variables/matches.html">$matches</a>[1];
<a name="l108"><span class="linenum"> 108</span></a>          } else if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(<a class="var it1872" onMouseOver="hilite(1872)" onMouseOut="lolite()" onClick="logVariable('single')" href="../../../../_variables/single.html">$single</a>, <a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>, <a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../../_variables/matches.html">$matches</a>)) {
<a name="l109"><span class="linenum"> 109</span></a>              return <a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../../_variables/matches.html">$matches</a>[1];
<a name="l110"><span class="linenum"> 110</span></a>          } else {
<a name="l111"><span class="linenum"> 111</span></a>              return <a class="var it214" onMouseOver="hilite(214)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>;
<a name="l112"><span class="linenum"> 112</span></a>          }
<a name="l113"><span class="linenum"> 113</span></a>      }
<a name="l114"><span class="linenum"> 114</span></a>  
<a name="l115"><span class="linenum"> 115</span></a>      <span class="comment">/**</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">     * Create a regular expression that will match an opening </span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">     * or closing tag from a set of names.</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">     *</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">     * @access private</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     * @param mixed $tag_names Tag names to match</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     * @param mixed $close false/0 = no, true/1 = yes, other = maybe</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * @param mixed $self_close false/0 = no, true/1 = yes, other = maybe</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * @return string $regex A regular expression string to be used</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     * in, say, preg_match.</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     */</span>
<a name="l126"><span class="linenum"> 126</span></a>      function <a class="function" onClick="logFunction('tagPattern')" href="../../../../_functions/tagpattern.html" onMouseOver="funcPopup(event,'tagpattern')">tagPattern</a>(<a class="var it1981" onMouseOver="hilite(1981)" onMouseOut="lolite()" onClick="logVariable('tag_names')" href="../../../../_variables/tag_names.html">$tag_names</a>, <a class="var it1982" onMouseOver="hilite(1982)" onMouseOut="lolite()" onClick="logVariable('close')" href="../../../../_variables/close.html">$close</a>, <a class="var it1983" onMouseOver="hilite(1983)" onMouseOut="lolite()" onClick="logVariable('self_close')" href="../../../../_variables/self_close.html">$self_close</a>)
<a name="l127"><span class="linenum"> 127</span></a>      {
<a name="l128"><span class="linenum"> 128</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it1981" onMouseOver="hilite(1981)" onMouseOut="lolite()" onClick="logVariable('tag_names')" href="../../../../_variables/tag_names.html">$tag_names</a>)) {
<a name="l129"><span class="linenum"> 129</span></a>              <a class="var it1981" onMouseOver="hilite(1981)" onMouseOut="lolite()" onClick="logVariable('tag_names')" href="../../../../_variables/tag_names.html">$tag_names</a> = '(?:'.<a class="phpfunction" onClick="logFunction('implode')" href="../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('|',<a class="var it1981" onMouseOver="hilite(1981)" onMouseOut="lolite()" onClick="logVariable('tag_names')" href="../../../../_variables/tag_names.html">$tag_names</a>).')';
<a name="l130"><span class="linenum"> 130</span></a>          }
<a name="l131"><span class="linenum"> 131</span></a>          if (<a class="var it1982" onMouseOver="hilite(1982)" onMouseOut="lolite()" onClick="logVariable('close')" href="../../../../_variables/close.html">$close</a>) {
<a name="l132"><span class="linenum"> 132</span></a>              <a class="var it1982" onMouseOver="hilite(1982)" onMouseOut="lolite()" onClick="logVariable('close')" href="../../../../_variables/close.html">$close</a> = '\/' . ((<a class="var it1982" onMouseOver="hilite(1982)" onMouseOut="lolite()" onClick="logVariable('close')" href="../../../../_variables/close.html">$close</a> == 1)? '' : '?');
<a name="l133"><span class="linenum"> 133</span></a>          } else {
<a name="l134"><span class="linenum"> 134</span></a>              <a class="var it1982" onMouseOver="hilite(1982)" onMouseOut="lolite()" onClick="logVariable('close')" href="../../../../_variables/close.html">$close</a> = '';
<a name="l135"><span class="linenum"> 135</span></a>          }
<a name="l136"><span class="linenum"> 136</span></a>          if (<a class="var it1983" onMouseOver="hilite(1983)" onMouseOut="lolite()" onClick="logVariable('self_close')" href="../../../../_variables/self_close.html">$self_close</a>) {
<a name="l137"><span class="linenum"> 137</span></a>              <a class="var it1983" onMouseOver="hilite(1983)" onMouseOut="lolite()" onClick="logVariable('self_close')" href="../../../../_variables/self_close.html">$self_close</a> = '(?:\/\s*)' . ((<a class="var it1983" onMouseOver="hilite(1983)" onMouseOut="lolite()" onClick="logVariable('self_close')" href="../../../../_variables/self_close.html">$self_close</a> == 1)? '' : '?');
<a name="l138"><span class="linenum"> 138</span></a>          } else {
<a name="l139"><span class="linenum"> 139</span></a>              <a class="var it1983" onMouseOver="hilite(1983)" onMouseOut="lolite()" onClick="logVariable('self_close')" href="../../../../_variables/self_close.html">$self_close</a> = '';
<a name="l140"><span class="linenum"> 140</span></a>          }
<a name="l141"><span class="linenum"> 141</span></a>          <a class="var it1867" onMouseOver="hilite(1867)" onMouseOut="lolite()" onClick="logVariable('expr')" href="../../../../_variables/expr.html">$expr</a> = sprintf(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tag_expr')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_tag_expr.html">_tag_expr</a>, <a class="var it1982" onMouseOver="hilite(1982)" onMouseOut="lolite()" onClick="logVariable('close')" href="../../../../_variables/close.html">$close</a>, <a class="var it1981" onMouseOver="hilite(1981)" onMouseOut="lolite()" onClick="logVariable('tag_names')" href="../../../../_variables/tag_names.html">$tag_names</a>, <a class="var it1983" onMouseOver="hilite(1983)" onMouseOut="lolite()" onClick="logVariable('self_close')" href="../../../../_variables/self_close.html">$self_close</a>);
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>          return sprintf(&quot;/%s/%s&quot;, <a class="var it1867" onMouseOver="hilite(1867)" onMouseOut="lolite()" onClick="logVariable('expr')" href="../../../../_variables/expr.html">$expr</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_re_flags')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_re_flags.html">_re_flags</a>);
<a name="l144"><span class="linenum"> 144</span></a>      }
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>      <span class="comment">/**</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     * Given an HTML document string, this finds all the META tags in</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     * the document, provided they are found in the</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     * &lt;HTML&gt;&lt;HEAD&gt;...&lt;/HEAD&gt; section of the document.  The &lt;HTML&gt; tag</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     * may be missing.</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">     *</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">     * @access private</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">     * @param string $html_string An HTMl document string</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     * @return array $tag_list Array of tags; each tag is an array of</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">     * attribute -&gt; value.</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">     */</span>
<a name="l157"><span class="linenum"> 157</span></a>      function <a class="function" onClick="logFunction('getMetaTags')" href="../../../../_functions/getmetatags.html" onMouseOver="funcPopup(event,'getmetatags')">getMetaTags</a>(<a class="var it1984" onMouseOver="hilite(1984)" onMouseOut="lolite()" onClick="logVariable('html_string')" href="../../../../_variables/html_string.html">$html_string</a>)
<a name="l158"><span class="linenum"> 158</span></a>      {
<a name="l159"><span class="linenum"> 159</span></a>          <a class="var it1984" onMouseOver="hilite(1984)" onMouseOut="lolite()" onClick="logVariable('html_string')" href="../../../../_variables/html_string.html">$html_string</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_removed_re')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_removed_re.html">_removed_re</a>,
<a name="l160"><span class="linenum"> 160</span></a>                                      &quot;&quot;,
<a name="l161"><span class="linenum"> 161</span></a>                                      <a class="var it1984" onMouseOver="hilite(1984)" onMouseOut="lolite()" onClick="logVariable('html_string')" href="../../../../_variables/html_string.html">$html_string</a>);
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>          <a class="var it1985" onMouseOver="hilite(1985)" onMouseOut="lolite()" onClick="logVariable('key_tags')" href="../../../../_variables/key_tags.html">$key_tags</a> = array(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('tagPattern')" href="../../../../_functions/tagpattern.html" onMouseOver="funcPopup(event,'tagpattern')">tagPattern</a>('html', false, false),
<a name="l164"><span class="linenum"> 164</span></a>                            <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('tagPattern')" href="../../../../_functions/tagpattern.html" onMouseOver="funcPopup(event,'tagpattern')">tagPattern</a>('head', false, false),
<a name="l165"><span class="linenum"> 165</span></a>                            <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('tagPattern')" href="../../../../_functions/tagpattern.html" onMouseOver="funcPopup(event,'tagpattern')">tagPattern</a>('head', true, false),
<a name="l166"><span class="linenum"> 166</span></a>                            <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('tagPattern')" href="../../../../_functions/tagpattern.html" onMouseOver="funcPopup(event,'tagpattern')">tagPattern</a>('html', true, false),
<a name="l167"><span class="linenum"> 167</span></a>                            <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('tagPattern')" href="../../../../_functions/tagpattern.html" onMouseOver="funcPopup(event,'tagpattern')">tagPattern</a>(array(
<a name="l168"><span class="linenum"> 168</span></a>                            'body', 'frameset', 'frame', 'p', 'div',
<a name="l169"><span class="linenum"> 169</span></a>                            'table','span','a'), 'maybe', 'maybe'));
<a name="l170"><span class="linenum"> 170</span></a>          <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a> = array();
<a name="l171"><span class="linenum"> 171</span></a>          foreach (<a class="var it1985" onMouseOver="hilite(1985)" onMouseOut="lolite()" onClick="logVariable('key_tags')" href="../../../../_variables/key_tags.html">$key_tags</a> as <a class="var it1987" onMouseOver="hilite(1987)" onMouseOut="lolite()" onClick="logVariable('pat')" href="../../../../_variables/pat.html">$pat</a>) {
<a name="l172"><span class="linenum"> 172</span></a>              <a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../../_variables/matches.html">$matches</a> = array();
<a name="l173"><span class="linenum"> 173</span></a>              <a class="phpfunction" onClick="logFunction('preg_match')" href="../../../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(<a class="var it1987" onMouseOver="hilite(1987)" onMouseOut="lolite()" onClick="logVariable('pat')" href="../../../../_variables/pat.html">$pat</a>, <a class="var it1984" onMouseOver="hilite(1984)" onMouseOut="lolite()" onClick="logVariable('html_string')" href="../../../../_variables/html_string.html">$html_string</a>, <a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../../_variables/matches.html">$matches</a>, PREG_OFFSET_CAPTURE);
<a name="l174"><span class="linenum"> 174</span></a>              if(<a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../../_variables/matches.html">$matches</a>) {
<a name="l175"><span class="linenum"> 175</span></a>                  <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[] = <a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../../../_variables/matches.html">$matches</a>[0][1];
<a name="l176"><span class="linenum"> 176</span></a>              } else {
<a name="l177"><span class="linenum"> 177</span></a>                  <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[] = null;
<a name="l178"><span class="linenum"> 178</span></a>              }
<a name="l179"><span class="linenum"> 179</span></a>          }
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">        // no opening head tag</span>
<a name="l181"><span class="linenum"> 181</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[1])) {
<a name="l182"><span class="linenum"> 182</span></a>              return array();
<a name="l183"><span class="linenum"> 183</span></a>          }
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">        // the effective &lt;/head&gt; is the min of the following</span>
<a name="l185"><span class="linenum"> 185</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[2])) {
<a name="l186"><span class="linenum"> 186</span></a>              <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[2] = strlen(<a class="var it1984" onMouseOver="hilite(1984)" onMouseOut="lolite()" onClick="logVariable('html_string')" href="../../../../_variables/html_string.html">$html_string</a>);
<a name="l187"><span class="linenum"> 187</span></a>          }
<a name="l188"><span class="linenum"> 188</span></a>          foreach (array(<a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[3], <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[4]) as <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../../../_variables/pos.html">$pos</a>) {
<a name="l189"><span class="linenum"> 189</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../../../_variables/pos.html">$pos</a>) &amp;&amp; <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../../../_variables/pos.html">$pos</a> &lt; <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[2]) {
<a name="l190"><span class="linenum"> 190</span></a>                  <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[2] = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../../../_variables/pos.html">$pos</a>;
<a name="l191"><span class="linenum"> 191</span></a>              }
<a name="l192"><span class="linenum"> 192</span></a>          }
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">        // closing head tag comes before opening head tag</span>
<a name="l194"><span class="linenum"> 194</span></a>          if (<a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[1] &gt; <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[2]) {
<a name="l195"><span class="linenum"> 195</span></a>              return array();
<a name="l196"><span class="linenum"> 196</span></a>          }
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">        // if there is an opening html tag, make sure the opening head tag</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">        // comes after it</span>
<a name="l199"><span class="linenum"> 199</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[0]) &amp;&amp; <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[1] &lt; <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[0]) {
<a name="l200"><span class="linenum"> 200</span></a>              return array();
<a name="l201"><span class="linenum"> 201</span></a>          }
<a name="l202"><span class="linenum"> 202</span></a>          <a class="var it1984" onMouseOver="hilite(1984)" onMouseOut="lolite()" onClick="logVariable('html_string')" href="../../../../_variables/html_string.html">$html_string</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it1984" onMouseOver="hilite(1984)" onMouseOut="lolite()" onClick="logVariable('html_string')" href="../../../../_variables/html_string.html">$html_string</a>, <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[1],
<a name="l203"><span class="linenum"> 203</span></a>                                (<a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[2]-<a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('key_tags_pos')" href="../../../../_variables/key_tags_pos.html">$key_tags_pos</a>[1]));
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>          <a class="var it1878" onMouseOver="hilite(1878)" onMouseOut="lolite()" onClick="logVariable('link_data')" href="../../../../_variables/link_data.html">$link_data</a> = array();
<a name="l206"><span class="linenum"> 206</span></a>          <a class="var it1879" onMouseOver="hilite(1879)" onMouseOut="lolite()" onClick="logVariable('link_matches')" href="../../../../_variables/link_matches.html">$link_matches</a> = array();
<a name="l207"><span class="linenum"> 207</span></a>          
<a name="l208"><span class="linenum"> 208</span></a>          if (!<a class="phpfunction" onClick="logFunction('preg_match_all')" href="../../../../_functions/preg_match_all.html" onMouseOver="phpfuncPopup(event,'preg_match_all')">preg_match_all</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('tagPattern')" href="../../../../_functions/tagpattern.html" onMouseOver="funcPopup(event,'tagpattern')">tagPattern</a>('meta', false, 'maybe'),
<a name="l209"><span class="linenum"> 209</span></a>                              <a class="var it1984" onMouseOver="hilite(1984)" onMouseOut="lolite()" onClick="logVariable('html_string')" href="../../../../_variables/html_string.html">$html_string</a>, <a class="var it1879" onMouseOver="hilite(1879)" onMouseOut="lolite()" onClick="logVariable('link_matches')" href="../../../../_variables/link_matches.html">$link_matches</a>)) {
<a name="l210"><span class="linenum"> 210</span></a>              return array();
<a name="l211"><span class="linenum"> 211</span></a>          }
<a name="l212"><span class="linenum"> 212</span></a>  
<a name="l213"><span class="linenum"> 213</span></a>          foreach (<a class="var it1879" onMouseOver="hilite(1879)" onMouseOut="lolite()" onClick="logVariable('link_matches')" href="../../../../_variables/link_matches.html">$link_matches</a>[0] as <a class="var it1164" onMouseOver="hilite(1164)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../../../_variables/link.html">$link</a>) {
<a name="l214"><span class="linenum"> 214</span></a>              <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('attr_matches')" href="../../../../_variables/attr_matches.html">$attr_matches</a> = array();
<a name="l215"><span class="linenum"> 215</span></a>              <a class="phpfunction" onClick="logFunction('preg_match_all')" href="../../../../_functions/preg_match_all.html" onMouseOver="phpfuncPopup(event,'preg_match_all')">preg_match_all</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_attr_find')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/_attr_find.html">_attr_find</a>, <a class="var it1164" onMouseOver="hilite(1164)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../../../_variables/link.html">$link</a>, <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('attr_matches')" href="../../../../_variables/attr_matches.html">$attr_matches</a>);
<a name="l216"><span class="linenum"> 216</span></a>              <a class="var it1881" onMouseOver="hilite(1881)" onMouseOut="lolite()" onClick="logVariable('link_attrs')" href="../../../../_variables/link_attrs.html">$link_attrs</a> = array();
<a name="l217"><span class="linenum"> 217</span></a>              foreach (<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('attr_matches')" href="../../../../_variables/attr_matches.html">$attr_matches</a>[0] as <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../../../_variables/index.html">$index</a> =&gt; <a class="var it1882" onMouseOver="hilite(1882)" onMouseOut="lolite()" onClick="logVariable('full_match')" href="../../../../_variables/full_match.html">$full_match</a>) {
<a name="l218"><span class="linenum"> 218</span></a>                  <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a> = <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('attr_matches')" href="../../../../_variables/attr_matches.html">$attr_matches</a>[1][<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../../../_variables/index.html">$index</a>];
<a name="l219"><span class="linenum"> 219</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('replaceEntities')" href="../../../../_functions/replaceentities.html" onMouseOver="funcPopup(event,'replaceentities')">replaceEntities</a>(
<a name="l220"><span class="linenum"> 220</span></a>                                <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('removeQuotes')" href="../../../../_functions/removequotes.html" onMouseOver="funcPopup(event,'removequotes')">removeQuotes</a>(<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('attr_matches')" href="../../../../_variables/attr_matches.html">$attr_matches</a>[2][<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../../../_variables/index.html">$index</a>]));
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>                  <a class="var it1881" onMouseOver="hilite(1881)" onMouseOut="lolite()" onClick="logVariable('link_attrs')" href="../../../../_variables/link_attrs.html">$link_attrs</a>[<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a>)] = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>;
<a name="l223"><span class="linenum"> 223</span></a>              }
<a name="l224"><span class="linenum"> 224</span></a>              <a class="var it1878" onMouseOver="hilite(1878)" onMouseOut="lolite()" onClick="logVariable('link_data')" href="../../../../_variables/link_data.html">$link_data</a>[] = <a class="var it1881" onMouseOver="hilite(1881)" onMouseOut="lolite()" onClick="logVariable('link_attrs')" href="../../../../_variables/link_attrs.html">$link_attrs</a>;
<a name="l225"><span class="linenum"> 225</span></a>          }
<a name="l226"><span class="linenum"> 226</span></a>  
<a name="l227"><span class="linenum"> 227</span></a>          return <a class="var it1878" onMouseOver="hilite(1878)" onMouseOut="lolite()" onClick="logVariable('link_data')" href="../../../../_variables/link_data.html">$link_data</a>;
<a name="l228"><span class="linenum"> 228</span></a>      }
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>      <span class="comment">/**</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     * Looks for a META tag with an &quot;http-equiv&quot; attribute whose value</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">     * is one of (&quot;x-xrds-location&quot;, &quot;x-yadis-location&quot;), ignoring</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">     * case.  If such a META tag is found, its &quot;content&quot; attribute</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">     * value is returned.</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     *</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">     * @param string $html_string An HTML document in string format</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">     * @return mixed $content The &quot;content&quot; attribute value of the</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     * META tag, if found, or null if no such tag was found.</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     */</span>
<a name="l240"><span class="linenum"> 240</span></a>      function <a class="function" onClick="logFunction('getHTTPEquiv')" href="../../../../_functions/gethttpequiv.html" onMouseOver="funcPopup(event,'gethttpequiv')">getHTTPEquiv</a>(<a class="var it1984" onMouseOver="hilite(1984)" onMouseOut="lolite()" onClick="logVariable('html_string')" href="../../../../_variables/html_string.html">$html_string</a>)
<a name="l241"><span class="linenum"> 241</span></a>      {
<a name="l242"><span class="linenum"> 242</span></a>          <a class="var it1988" onMouseOver="hilite(1988)" onMouseOut="lolite()" onClick="logVariable('meta_tags')" href="../../../../_variables/meta_tags.html">$meta_tags</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getMetaTags')" href="../../../../_functions/getmetatags.html" onMouseOver="funcPopup(event,'getmetatags')">getMetaTags</a>(<a class="var it1984" onMouseOver="hilite(1984)" onMouseOut="lolite()" onClick="logVariable('html_string')" href="../../../../_variables/html_string.html">$html_string</a>);
<a name="l243"><span class="linenum"> 243</span></a>  
<a name="l244"><span class="linenum"> 244</span></a>          if (<a class="var it1988" onMouseOver="hilite(1988)" onMouseOut="lolite()" onClick="logVariable('meta_tags')" href="../../../../_variables/meta_tags.html">$meta_tags</a>) {
<a name="l245"><span class="linenum"> 245</span></a>              foreach (<a class="var it1988" onMouseOver="hilite(1988)" onMouseOut="lolite()" onClick="logVariable('meta_tags')" href="../../../../_variables/meta_tags.html">$meta_tags</a> as <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../../../../_variables/tag.html">$tag</a>) {
<a name="l246"><span class="linenum"> 246</span></a>                  if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>('http-equiv', <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../../../../_variables/tag.html">$tag</a>) &amp;&amp;
<a name="l247"><span class="linenum"> 247</span></a>                      (<a class="phpfunction" onClick="logFunction('in_array')" href="../../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../../../../_variables/tag.html">$tag</a>['http-equiv']),
<a name="l248"><span class="linenum"> 248</span></a>                                array('x-xrds-location', 'x-yadis-location'))) &amp;&amp;
<a name="l249"><span class="linenum"> 249</span></a>                      <a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>('content', <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../../../../_variables/tag.html">$tag</a>)) {
<a name="l250"><span class="linenum"> 250</span></a>                      return <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../../../../_variables/tag.html">$tag</a>['content'];
<a name="l251"><span class="linenum"> 251</span></a>                  }
<a name="l252"><span class="linenum"> 252</span></a>              }
<a name="l253"><span class="linenum"> 253</span></a>          }
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>          return null;
<a name="l256"><span class="linenum"> 256</span></a>      }
<a name="l257"><span class="linenum"> 257</span></a>  }
<a name="l258"><span class="linenum"> 258</span></a>  
<a name="l259"><span class="linenum"> 259</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'auth_yadis_parsehtml': ['auth_yadis_parsehtml', '', [['admin/oauth/Auth/Yadis','ParseHTML.php',46]], 1],
'getmetatags': ['getmetatags', 'Given an HTML document string, this finds all the META tags in the document, provided they are found in the <HTML><HEAD>...</HEAD> section of the document.  The <HTML> tag may be missing. ', [['admin/oauth/Auth/Yadis','ParseHTML.php',146]], 1],
'tagpattern': ['tagpattern', 'Create a regular expression that will match an opening or closing tag from a set of names. ', [['admin/oauth/Auth/Yadis','ParseHTML.php',115]], 6],
'replaceentities': ['replaceentities', '', [['admin/oauth/Auth/OpenID','Parse.php',196],['admin/oauth/Auth/Yadis','ParseHTML.php',68]], 2],
'removequotes': ['removequotes', '', [['admin/oauth/Auth/OpenID','Parse.php',204],['admin/oauth/Auth/Yadis','ParseHTML.php',91]], 2],
'gethttpequiv': ['gethttpequiv', 'Looks for a META tag with an "http-equiv" attribute whose value is one of ("x-xrds-location", "x-yadis-location"), ignoring case.  If such a META tag is found, its "content" attribute value is returned. ', [['admin/oauth/Auth/Yadis','ParseHTML.php',230]], 1],
'array_key_exists': ['array_key_exists', '', [], 125],
'substr': ['substr', '', [], 214],
'is_array': ['is_array', '', [], 54],
'strtolower': ['strtolower', '', [], 48],
'preg_match': ['preg_match', '', [], 68],
'in_array': ['in_array', '', [], 83],
'hexdec': ['hexdec', '', [], 3],
'is_null': ['is_null', '', [], 9],
'preg_replace': ['preg_replace', '', [], 23],
'implode': ['implode', '', [], 40],
'chr': ['chr', '', [], 48],
'preg_match_all': ['preg_match_all', '', [], 4]};
CLASS_DATA={
'auth_yadis_parsehtml': ['auth_yadis_parsehtml', 'This class is responsible for scanning an HTML string to find META tags and their attributes.  This is used by the Yadis discovery process.  This class must be instantiated to be used. ', [['admin/oauth/Auth/Yadis','ParseHTML.php',16]], 1]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Tue Dec  7 15:36:31 2010</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7</a></i></td>
	</tr>
</table>
</body></html>
