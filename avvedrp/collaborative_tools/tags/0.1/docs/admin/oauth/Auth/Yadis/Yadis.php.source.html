<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7 : Virtual lab admin interface : /admin/oauth/Auth/Yadis/Yadis.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Virtual lab admin interface</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7 at Tue Dec  7 15:36:31 2010 -->
<!-- PHPXref (c) 2000-2007 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='admin/oauth/Auth/Yadis';
filename='Yadis.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/admin/oauth/Auth/Yadis/</a> -> <a href="Yadis.php.html">Yadis.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="Yadis.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="Yadis.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">/**</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * The core PHP Yadis implementation.</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> *</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * PHP versions 4 and 5</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * LICENSE: See the COPYING file included in this distribution.</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> *</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * @author JanRain, Inc. &lt;openid@janrain.com&gt;</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> * @copyright 2005-2008 Janrain, Inc.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * @license http://www.apache.org/licenses/LICENSE-2.0 Apache</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> */</span>
<a name="l15"><span class="linenum">  15</span></a>  
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">/**</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> * Need both fetcher types so we can use the right one based on the</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * presence or absence of CURL.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> */</span>
<a name="l20"><span class="linenum">  20</span></a>  require_once &quot;Auth/Yadis/PlainHTTPFetcher.php&quot;;
<a name="l21"><span class="linenum">  21</span></a>  require_once &quot;Auth/Yadis/ParanoidHTTPFetcher.php&quot;;
<a name="l22"><span class="linenum">  22</span></a>  
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment">/**</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * Need this for parsing HTML (looking for META tags).</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> */</span>
<a name="l26"><span class="linenum">  26</span></a>  require_once &quot;Auth/Yadis/ParseHTML.php&quot;;
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * Need this to parse the XRDS document during Yadis discovery.</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> */</span>
<a name="l31"><span class="linenum">  31</span></a>  require_once &quot;Auth/Yadis/XRDS.php&quot;;
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/**</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * XRDS (yadis) content type</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> */</span>
<a name="l36"><span class="linenum">  36</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('Auth_Yadis_CONTENT_TYPE', 'application/xrds+xml');
<a name="l37"><span class="linenum">  37</span></a>  
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">/**</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * Yadis header</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> */</span>
<a name="l41"><span class="linenum">  41</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('Auth_Yadis_HEADER_NAME', 'X-XRDS-Location');
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">/**</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * Contains the result of performing Yadis discovery on a URI.</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> *</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> */</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_Yadis_DiscoveryResult')" href="../../../../_classes/auth_yadis_discoveryresult.html" onMouseOver="classPopup(event,'auth_yadis_discoveryresult')">Auth_Yadis_DiscoveryResult</a> {
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">    // The URI that was passed to the fetcher</span>
<a name="l51"><span class="linenum">  51</span></a>      var <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('request_uri')" href="../../../../_variables/request_uri.html">$request_uri</a> = null;
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">    // The result of following redirects from the request_uri</span>
<a name="l54"><span class="linenum">  54</span></a>      var <a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('normalized_uri')" href="../../../../_variables/normalized_uri.html">$normalized_uri</a> = null;
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">    // The URI from which the response text was returned (set to</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">    // None if there was no XRDS document found)</span>
<a name="l58"><span class="linenum">  58</span></a>      var <a class="var it19" onMouseOver="hilite(19)" onMouseOut="lolite()" onClick="logVariable('xrds_uri')" href="../../../../_variables/xrds_uri.html">$xrds_uri</a> = null;
<a name="l59"><span class="linenum">  59</span></a>  
<a name="l60"><span class="linenum">  60</span></a>      var <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('xrds')" href="../../../../_variables/xrds.html">$xrds</a> = null;
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">    // The content-type returned with the response_text</span>
<a name="l63"><span class="linenum">  63</span></a>      var <a class="var it21" onMouseOver="hilite(21)" onMouseOut="lolite()" onClick="logVariable('content_type')" href="../../../../_variables/content_type.html">$content_type</a> = null;
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">    // The document returned from the xrds_uri</span>
<a name="l66"><span class="linenum">  66</span></a>      var <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('response_text')" href="../../../../_variables/response_text.html">$response_text</a> = null;
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">    // Did the discovery fail miserably?</span>
<a name="l69"><span class="linenum">  69</span></a>      var <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('failed')" href="../../../../_variables/failed.html">$failed</a> = false;
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>      function <a class="function" onClick="logFunction('Auth_Yadis_DiscoveryResult')" href="../../../../_functions/auth_yadis_discoveryresult.html" onMouseOver="funcPopup(event,'auth_yadis_discoveryresult')">Auth_Yadis_DiscoveryResult</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('request_uri')" href="../../../../_variables/request_uri.html">$request_uri</a>)
<a name="l72"><span class="linenum">  72</span></a>      {
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">        // Initialize the state of the object</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">        // sets all attributes to None except the request_uri</span>
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('request_uri')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/request_uri.html">request_uri</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('request_uri')" href="../../../../_variables/request_uri.html">$request_uri</a>;
<a name="l76"><span class="linenum">  76</span></a>      }
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>      function <a class="function" onClick="logFunction('fail')" href="../../../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>()
<a name="l79"><span class="linenum">  79</span></a>      {
<a name="l80"><span class="linenum">  80</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('failed')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/failed.html">failed</a> = true;
<a name="l81"><span class="linenum">  81</span></a>      }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>      function <a class="function" onClick="logFunction('isFailure')" href="../../../../_functions/isfailure.html" onMouseOver="funcPopup(event,'isfailure')">isFailure</a>()
<a name="l84"><span class="linenum">  84</span></a>      {
<a name="l85"><span class="linenum">  85</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('failed')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/failed.html">failed</a>;
<a name="l86"><span class="linenum">  86</span></a>      }
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>      <span class="comment">/**</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     * Returns the list of service objects as described by the XRDS</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">     * document, if this yadis object represents a successful Yadis</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">     * discovery.</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     *</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">     * @return array $services An array of {@link Auth_Yadis_Service}</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     * objects</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     */</span>
<a name="l96"><span class="linenum">  96</span></a>      function <a class="function" onClick="logFunction('services')" href="../../../../_functions/services.html" onMouseOver="funcPopup(event,'services')">services</a>()
<a name="l97"><span class="linenum">  97</span></a>      {
<a name="l98"><span class="linenum">  98</span></a>          if (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('xrds')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/xrds.html">xrds</a>) {
<a name="l99"><span class="linenum">  99</span></a>              return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('xrds')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/xrds.html">xrds</a>-&gt;<a class="function" onClick="logFunction('services')" href="../../../../_functions/services.html" onMouseOver="funcPopup(event,'services')">services</a>();
<a name="l100"><span class="linenum"> 100</span></a>          }
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>          return null;
<a name="l103"><span class="linenum"> 103</span></a>      }
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>      function <a class="function" onClick="logFunction('usedYadisLocation')" href="../../../../_functions/usedyadislocation.html" onMouseOver="funcPopup(event,'usedyadislocation')">usedYadisLocation</a>()
<a name="l106"><span class="linenum"> 106</span></a>      {
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">        // Was the Yadis protocol's indirection used?</span>
<a name="l108"><span class="linenum"> 108</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('normalized_uri')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/normalized_uri.html">normalized_uri</a> != <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('xrds_uri')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/xrds_uri.html">xrds_uri</a>;
<a name="l109"><span class="linenum"> 109</span></a>      }
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>      function <a class="function" onClick="logFunction('isXRDS')" href="../../../../_functions/isxrds.html" onMouseOver="funcPopup(event,'isxrds')">isXRDS</a>()
<a name="l112"><span class="linenum"> 112</span></a>      {
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">        // Is the response text supposed to be an XRDS document?</span>
<a name="l114"><span class="linenum"> 114</span></a>          return (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('usedYadisLocation')" href="../../../../_functions/usedyadislocation.html" onMouseOver="funcPopup(event,'usedyadislocation')">usedYadisLocation</a>() ||
<a name="l115"><span class="linenum"> 115</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('content_type')" class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" href="../../../../_variables/content_type.html">content_type</a> == Auth_Yadis_CONTENT_TYPE);
<a name="l116"><span class="linenum"> 116</span></a>      }
<a name="l117"><span class="linenum"> 117</span></a>  }
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">/**</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment"> *</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment"> * Perform the Yadis protocol on the input URL and return an iterable</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment"> * of resulting endpoint objects.</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment"> *</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment"> * input_url: The URL on which to perform the Yadis protocol</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment"> *</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment"> * @return: The normalized identity URL and an iterable of endpoint</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment"> * objects generated by the filter function.</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment"> *</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment"> * xrds_parse_func: a callback which will take (uri, xrds_text) and</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment"> * return an array of service endpoint objects or null.  Usually</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment"> * array('Auth_OpenID_ServiceEndpoint', 'fromXRDS').</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment"> *</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment"> * discover_func: if not null, a callback which should take (uri) and</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment"> * return an Auth_Yadis_Yadis object or null.</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment"> */</span>
<a name="l136"><span class="linenum"> 136</span></a>  function <a class="function" onClick="logFunction('Auth_Yadis_getServiceEndpoints')" href="../../../../_functions/auth_yadis_getserviceendpoints.html" onMouseOver="funcPopup(event,'auth_yadis_getserviceendpoints')">Auth_Yadis_getServiceEndpoints</a>(<a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('input_url')" href="../../../../_variables/input_url.html">$input_url</a>, <a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('xrds_parse_func')" href="../../../../_variables/xrds_parse_func.html">$xrds_parse_func</a>,
<a name="l137"><span class="linenum"> 137</span></a>                                          <a class="var it26" onMouseOver="hilite(26)" onMouseOut="lolite()" onClick="logVariable('discover_func')" href="../../../../_variables/discover_func.html">$discover_func</a>=null, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('fetcher')" href="../../../../_variables/fetcher.html">$fetcher</a>=null)
<a name="l138"><span class="linenum"> 138</span></a>  {
<a name="l139"><span class="linenum"> 139</span></a>      if (<a class="var it26" onMouseOver="hilite(26)" onMouseOut="lolite()" onClick="logVariable('discover_func')" href="../../../../_variables/discover_func.html">$discover_func</a> === null) {
<a name="l140"><span class="linenum"> 140</span></a>          <a class="var it28" onMouseOver="hilite(28)" onMouseOut="lolite()" onClick="logVariable('discover_function')" href="../../../../_variables/discover_function.html">$discover_function</a> = array('Auth_Yadis_Yadis', 'discover');
<a name="l141"><span class="linenum"> 141</span></a>      }
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('yadis_result')" href="../../../../_variables/yadis_result.html">$yadis_result</a> = <a class="phpfunction" onClick="logFunction('call_user_func_array')" href="../../../../_functions/call_user_func_array.html" onMouseOver="phpfuncPopup(event,'call_user_func_array')">call_user_func_array</a>(<a class="var it26" onMouseOver="hilite(26)" onMouseOut="lolite()" onClick="logVariable('discover_func')" href="../../../../_variables/discover_func.html">$discover_func</a>,
<a name="l144"><span class="linenum"> 144</span></a>                                           array(<a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('input_url')" href="../../../../_variables/input_url.html">$input_url</a>, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('fetcher')" href="../../../../_variables/fetcher.html">$fetcher</a>));
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>      if (<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('yadis_result')" href="../../../../_variables/yadis_result.html">$yadis_result</a> === null) {
<a name="l147"><span class="linenum"> 147</span></a>          return array(<a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('input_url')" href="../../../../_variables/input_url.html">$input_url</a>, array());
<a name="l148"><span class="linenum"> 148</span></a>      }
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>      <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('endpoints')" href="../../../../_variables/endpoints.html">$endpoints</a> = <a class="phpfunction" onClick="logFunction('call_user_func_array')" href="../../../../_functions/call_user_func_array.html" onMouseOver="phpfuncPopup(event,'call_user_func_array')">call_user_func_array</a>(<a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('xrds_parse_func')" href="../../../../_variables/xrds_parse_func.html">$xrds_parse_func</a>,
<a name="l151"><span class="linenum"> 151</span></a>                        array(<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('yadis_result')" href="../../../../_variables/yadis_result.html">$yadis_result</a>-&gt;<a onClick="logVariable('normalized_uri')" class="var it2286" onMouseOver="hilite(2286)" onMouseOut="lolite()" href="../../../../_variables/normalized_uri.html">normalized_uri</a>,
<a name="l152"><span class="linenum"> 152</span></a>                              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('yadis_result')" href="../../../../_variables/yadis_result.html">$yadis_result</a>-&gt;<a onClick="logVariable('response_text')" class="var it2286" onMouseOver="hilite(2286)" onMouseOut="lolite()" href="../../../../_variables/response_text.html">response_text</a>));
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>      if (<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('endpoints')" href="../../../../_variables/endpoints.html">$endpoints</a> === null) {
<a name="l155"><span class="linenum"> 155</span></a>          <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('endpoints')" href="../../../../_variables/endpoints.html">$endpoints</a> = array();
<a name="l156"><span class="linenum"> 156</span></a>      }
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>      return array(<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('yadis_result')" href="../../../../_variables/yadis_result.html">$yadis_result</a>-&gt;<a onClick="logVariable('normalized_uri')" class="var it2286" onMouseOver="hilite(2286)" onMouseOut="lolite()" href="../../../../_variables/normalized_uri.html">normalized_uri</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('endpoints')" href="../../../../_variables/endpoints.html">$endpoints</a>);
<a name="l159"><span class="linenum"> 159</span></a>  }
<a name="l160"><span class="linenum"> 160</span></a>  
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">/**</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment"> * This is the core of the PHP Yadis library.  This is the only class</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment"> * a user needs to use to perform Yadis discovery.  This class</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment"> * performs the discovery AND stores the result of the discovery.</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment"> *</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment"> * First, require this library into your program source:</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment"> *</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment"> * &lt;pre&gt;  require_once &quot;Auth/Yadis/Yadis.php&quot;;&lt;/pre&gt;</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment"> *</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment"> * To perform Yadis discovery, first call the &quot;discover&quot; method</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment"> * statically with a URI parameter:</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment"> *</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment"> * &lt;pre&gt;  $http_response = array();</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment"> *  $fetcher = Auth_Yadis_Yadis::getHTTPFetcher();</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment"> *  $yadis_object = Auth_Yadis_Yadis::discover($uri,</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment"> *                                    $http_response, $fetcher);&lt;/pre&gt;</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment"> *</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment"> * If the discovery succeeds, $yadis_object will be an instance of</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment"> * {@link Auth_Yadis_Yadis}.  If not, it will be null.  The XRDS</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment"> * document found during discovery should have service descriptions,</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment"> * which can be accessed by calling</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment"> *</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment"> * &lt;pre&gt;  $service_list = $yadis_object-&gt;services();&lt;/pre&gt;</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment"> *</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment"> * which returns an array of objects which describe each service.</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment"> * These objects are instances of Auth_Yadis_Service.  Each object</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment"> * describes exactly one whole Service element, complete with all of</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment"> * its Types and URIs (no expansion is performed).  The common use</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment"> * case for using the service objects returned by services() is to</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment"> * write one or more filter functions and pass those to services():</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment"> *</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment"> * &lt;pre&gt;  $service_list = $yadis_object-&gt;services(</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment"> *                               array(&quot;filterByURI&quot;,</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment"> *                                     &quot;filterByExtension&quot;));&lt;/pre&gt;</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment"> *</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment"> * The filter functions (whose names appear in the array passed to</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment"> * services()) take the following form:</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment"> *</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment"> * &lt;pre&gt;  function myFilter(&amp;$service) {</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment"> *       // Query $service object here.  Return true if the service</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment"> *       // matches your query; false if not.</span>
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment"> *  }&lt;/pre&gt;</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment"> *</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment"> * This is an example of a filter which uses a regular expression to</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment"> * match the content of URI tags (note that the Auth_Yadis_Service</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment"> * class provides a getURIs() method which you should use instead of</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment"> * this contrived example):</span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment"> *</span>
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment"> * &lt;pre&gt;</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment"> *  function URIMatcher(&amp;$service) {</span>
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment"> *      foreach ($service-&gt;getElements('xrd:URI') as $uri) {</span>
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment"> *          if (preg_match(&quot;/some_pattern/&quot;,</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment"> *                         $service-&gt;parser-&gt;content($uri))) {</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment"> *              return true;</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment"> *          }</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment"> *      }</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment"> *      return false;</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment"> *  }&lt;/pre&gt;</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment"> *</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment"> * The filter functions you pass will be called for each service</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment"> * object to determine which ones match the criteria your filters</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment"> * specify.  The default behavior is that if a given service object</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment"> * matches ANY of the filters specified in the services() call, it</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment"> * will be returned.  You can specify that a given service object will</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment"> * be returned ONLY if it matches ALL specified filters by changing</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment"> * the match mode of services():</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment"> *</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment"> * &lt;pre&gt;  $yadis_object-&gt;services(array(&quot;filter1&quot;, &quot;filter2&quot;),</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment"> *                          SERVICES_YADIS_MATCH_ALL);&lt;/pre&gt;</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment"> *</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment"> * See {@link SERVICES_YADIS_MATCH_ALL} and {@link</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment"> * SERVICES_YADIS_MATCH_ANY}.</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment"> *</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment"> * Services described in an XRDS should have a library which you'll</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment"> * probably be using.  Those libraries are responsible for defining</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment"> * filters that can be used with the &quot;services()&quot; call.  If you need</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment"> * to write your own filter, see the documentation for {@link</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment"> * Auth_Yadis_Service}.</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment"> *</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment"> * @package OpenID</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment"> */</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Auth_Yadis_Yadis')" href="../../../../_classes/auth_yadis_yadis.html" onMouseOver="classPopup(event,'auth_yadis_yadis')">Auth_Yadis_Yadis</a> {
<a name="l243"><span class="linenum"> 243</span></a>  
<a name="l244"><span class="linenum"> 244</span></a>      <span class="comment">/**</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     * Returns an HTTP fetcher object.  If the CURL extension is</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     * present, an instance of {@link Auth_Yadis_ParanoidHTTPFetcher}</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     * is returned.  If not, an instance of</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * {@link Auth_Yadis_PlainHTTPFetcher} is returned.</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     *</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * If Auth_Yadis_CURL_OVERRIDE is defined, this method will always</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     * return a {@link Auth_Yadis_PlainHTTPFetcher}.</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     */</span>
<a name="l253"><span class="linenum"> 253</span></a>      function <a class="function" onClick="logFunction('getHTTPFetcher')" href="../../../../_functions/gethttpfetcher.html" onMouseOver="funcPopup(event,'gethttpfetcher')">getHTTPFetcher</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../../../_variables/timeout.html">$timeout</a> = 20)
<a name="l254"><span class="linenum"> 254</span></a>      {
<a name="l255"><span class="linenum"> 255</span></a>          if (<a class="class" onClick="logClass('Auth_Yadis_Yadis')" href="../../../../_classes/auth_yadis_yadis.html" onMouseOver="classPopup(event,'auth_yadis_yadis')">Auth_Yadis_Yadis</a>::<a class="function" onClick="logFunction('curlPresent')" href="../../../../_functions/curlpresent.html" onMouseOver="funcPopup(event,'curlpresent')">curlPresent</a>() &amp;&amp;
<a name="l256"><span class="linenum"> 256</span></a>              (!<a class="phpfunction" onClick="logFunction('defined')" href="../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('Auth_Yadis_CURL_OVERRIDE'))) {
<a name="l257"><span class="linenum"> 257</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('fetcher')" href="../../../../_variables/fetcher.html">$fetcher</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_Yadis_ParanoidHTTPFetcher')" href="../../../../_classes/auth_yadis_paranoidhttpfetcher.html" onMouseOver="classPopup(event,'auth_yadis_paranoidhttpfetcher')">Auth_Yadis_ParanoidHTTPFetcher</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../../../_variables/timeout.html">$timeout</a>);
<a name="l258"><span class="linenum"> 258</span></a>          } else {
<a name="l259"><span class="linenum"> 259</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('fetcher')" href="../../../../_variables/fetcher.html">$fetcher</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_Yadis_PlainHTTPFetcher')" href="../../../../_classes/auth_yadis_plainhttpfetcher.html" onMouseOver="classPopup(event,'auth_yadis_plainhttpfetcher')">Auth_Yadis_PlainHTTPFetcher</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../../../_variables/timeout.html">$timeout</a>);
<a name="l260"><span class="linenum"> 260</span></a>          }
<a name="l261"><span class="linenum"> 261</span></a>          return <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('fetcher')" href="../../../../_variables/fetcher.html">$fetcher</a>;
<a name="l262"><span class="linenum"> 262</span></a>      }
<a name="l263"><span class="linenum"> 263</span></a>  
<a name="l264"><span class="linenum"> 264</span></a>      function <a class="function" onClick="logFunction('curlPresent')" href="../../../../_functions/curlpresent.html" onMouseOver="funcPopup(event,'curlpresent')">curlPresent</a>()
<a name="l265"><span class="linenum"> 265</span></a>      {
<a name="l266"><span class="linenum"> 266</span></a>          return <a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('curl_init');
<a name="l267"><span class="linenum"> 267</span></a>      }
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>      <span class="comment">/**</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">     * @access private</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">     */</span>
<a name="l272"><span class="linenum"> 272</span></a>      function <a class="function" onClick="logFunction('_getHeader')" href="../../../../_functions/_getheader.html" onMouseOver="funcPopup(event,'_getheader')">_getHeader</a>(<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('header_list')" href="../../../../_variables/header_list.html">$header_list</a>, <a class="var it33" onMouseOver="hilite(33)" onMouseOut="lolite()" onClick="logVariable('names')" href="../../../../_variables/names.html">$names</a>)
<a name="l273"><span class="linenum"> 273</span></a>      {
<a name="l274"><span class="linenum"> 274</span></a>          foreach (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('header_list')" href="../../../../_variables/header_list.html">$header_list</a> as <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a> =&gt; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>) {
<a name="l275"><span class="linenum"> 275</span></a>              foreach (<a class="var it33" onMouseOver="hilite(33)" onMouseOut="lolite()" onClick="logVariable('names')" href="../../../../_variables/names.html">$names</a> as <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a>) {
<a name="l276"><span class="linenum"> 276</span></a>                  if (<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a>) == <a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a>)) {
<a name="l277"><span class="linenum"> 277</span></a>                      return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>;
<a name="l278"><span class="linenum"> 278</span></a>                  }
<a name="l279"><span class="linenum"> 279</span></a>              }
<a name="l280"><span class="linenum"> 280</span></a>          }
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>          return null;
<a name="l283"><span class="linenum"> 283</span></a>      }
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>      <span class="comment">/**</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     * @access private</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     */</span>
<a name="l288"><span class="linenum"> 288</span></a>      function <a class="function" onClick="logFunction('_getContentType')" href="../../../../_functions/_getcontenttype.html" onMouseOver="funcPopup(event,'_getcontenttype')">_getContentType</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('content_type_header')" href="../../../../_variables/content_type_header.html">$content_type_header</a>)
<a name="l289"><span class="linenum"> 289</span></a>      {
<a name="l290"><span class="linenum"> 290</span></a>          if (<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('content_type_header')" href="../../../../_variables/content_type_header.html">$content_type_header</a>) {
<a name="l291"><span class="linenum"> 291</span></a>              <a class="var it37" onMouseOver="hilite(37)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../../../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(&quot;;&quot;, <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('content_type_header')" href="../../../../_variables/content_type_header.html">$content_type_header</a>);
<a name="l292"><span class="linenum"> 292</span></a>              return <a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it37" onMouseOver="hilite(37)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../../../_variables/parts.html">$parts</a>[0]);
<a name="l293"><span class="linenum"> 293</span></a>          }
<a name="l294"><span class="linenum"> 294</span></a>      }
<a name="l295"><span class="linenum"> 295</span></a>  
<a name="l296"><span class="linenum"> 296</span></a>      <span class="comment">/**</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     * This should be called statically and will build a Yadis</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     * instance if the discovery process succeeds.  This implements</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">     * Yadis discovery as specified in the Yadis specification.</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">     *</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     * @param string $uri The URI on which to perform Yadis discovery.</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     *</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">     * @param array $http_response An array reference where the HTTP</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">     * response object will be stored (see {@link</span>
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">     * Auth_Yadis_HTTPResponse}.</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">     *</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">     * @param Auth_Yadis_HTTPFetcher $fetcher An instance of a</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">     * Auth_Yadis_HTTPFetcher subclass.</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     *</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     * @param array $extra_ns_map An array which maps namespace names</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * to namespace URIs to be used when parsing the Yadis XRDS</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     * document.</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     *</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     * @param integer $timeout An optional fetcher timeout, in seconds.</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     *</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * @return mixed $obj Either null or an instance of</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     * Auth_Yadis_Yadis, depending on whether the discovery</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">     * succeeded.</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     */</span>
<a name="l320"><span class="linenum"> 320</span></a>      function <a class="function" onClick="logFunction('discover')" href="../../../../_functions/discover.html" onMouseOver="funcPopup(event,'discover')">discover</a>(<a class="var it38" onMouseOver="hilite(38)" onMouseOut="lolite()" onClick="logVariable('uri')" href="../../../../_variables/uri.html">$uri</a>, &amp;<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('fetcher')" href="../../../../_variables/fetcher.html">$fetcher</a>,
<a name="l321"><span class="linenum"> 321</span></a>                        <a class="var it39" onMouseOver="hilite(39)" onMouseOut="lolite()" onClick="logVariable('extra_ns_map')" href="../../../../_variables/extra_ns_map.html">$extra_ns_map</a> = null, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../../../_variables/timeout.html">$timeout</a> = 20)
<a name="l322"><span class="linenum"> 322</span></a>      {
<a name="l323"><span class="linenum"> 323</span></a>          <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_Yadis_DiscoveryResult')" href="../../../../_classes/auth_yadis_discoveryresult.html" onMouseOver="classPopup(event,'auth_yadis_discoveryresult')">Auth_Yadis_DiscoveryResult</a>(<a class="var it38" onMouseOver="hilite(38)" onMouseOut="lolite()" onClick="logVariable('uri')" href="../../../../_variables/uri.html">$uri</a>);
<a name="l324"><span class="linenum"> 324</span></a>  
<a name="l325"><span class="linenum"> 325</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('request_uri')" href="../../../../_variables/request_uri.html">$request_uri</a> = <a class="var it38" onMouseOver="hilite(38)" onMouseOut="lolite()" onClick="logVariable('uri')" href="../../../../_variables/uri.html">$uri</a>;
<a name="l326"><span class="linenum"> 326</span></a>          <a class="var it41" onMouseOver="hilite(41)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../_variables/headers.html">$headers</a> = array(&quot;Accept: &quot; . Auth_Yadis_CONTENT_TYPE .
<a name="l327"><span class="linenum"> 327</span></a>                           ', text/html; q=0.3, application/xhtml+xml; q=0.5');
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>          if (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('fetcher')" href="../../../../_variables/fetcher.html">$fetcher</a> === null) {
<a name="l330"><span class="linenum"> 330</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('fetcher')" href="../../../../_variables/fetcher.html">$fetcher</a> = <a class="class" onClick="logClass('Auth_Yadis_Yadis')" href="../../../../_classes/auth_yadis_yadis.html" onMouseOver="classPopup(event,'auth_yadis_yadis')">Auth_Yadis_Yadis</a>::<a class="function" onClick="logFunction('getHTTPFetcher')" href="../../../../_functions/gethttpfetcher.html" onMouseOver="funcPopup(event,'gethttpfetcher')">getHTTPFetcher</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../../../_variables/timeout.html">$timeout</a>);
<a name="l331"><span class="linenum"> 331</span></a>          }
<a name="l332"><span class="linenum"> 332</span></a>  
<a name="l333"><span class="linenum"> 333</span></a>          <a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a> = <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('fetcher')" href="../../../../_variables/fetcher.html">$fetcher</a>-&gt;<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it38" onMouseOver="hilite(38)" onMouseOut="lolite()" onClick="logVariable('uri')" href="../../../../_variables/uri.html">$uri</a>, <a class="var it41" onMouseOver="hilite(41)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../_variables/headers.html">$headers</a>);
<a name="l334"><span class="linenum"> 334</span></a>  
<a name="l335"><span class="linenum"> 335</span></a>          if (!<a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a> || (<a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>-&gt;<a onClick="logVariable('status')" class="var it2285" onMouseOver="hilite(2285)" onMouseOut="lolite()" href="../../../../_variables/status.html">status</a> != 200 and
<a name="l336"><span class="linenum"> 336</span></a>                             <a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>-&gt;<a onClick="logVariable('status')" class="var it2285" onMouseOver="hilite(2285)" onMouseOut="lolite()" href="../../../../_variables/status.html">status</a> != 206)) {
<a name="l337"><span class="linenum"> 337</span></a>              <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('fail')" href="../../../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>();
<a name="l338"><span class="linenum"> 338</span></a>              return <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l339"><span class="linenum"> 339</span></a>          }
<a name="l340"><span class="linenum"> 340</span></a>  
<a name="l341"><span class="linenum"> 341</span></a>          <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('normalized_uri')" class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" href="../../../../_variables/normalized_uri.html">normalized_uri</a> = <a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>-&gt;<a onClick="logVariable('final_url')" class="var it2285" onMouseOver="hilite(2285)" onMouseOut="lolite()" href="../../../../_variables/final_url.html">final_url</a>;
<a name="l342"><span class="linenum"> 342</span></a>          <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('content_type')" class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" href="../../../../_variables/content_type.html">content_type</a> = <a class="class" onClick="logClass('Auth_Yadis_Yadis')" href="../../../../_classes/auth_yadis_yadis.html" onMouseOver="classPopup(event,'auth_yadis_yadis')">Auth_Yadis_Yadis</a>::<a class="function" onClick="logFunction('_getHeader')" href="../../../../_functions/_getheader.html" onMouseOver="funcPopup(event,'_getheader')">_getHeader</a>(
<a name="l343"><span class="linenum"> 343</span></a>                                         <a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>-&gt;<a onClick="logVariable('headers')" class="var it2285" onMouseOver="hilite(2285)" onMouseOut="lolite()" href="../../../../_variables/headers.html">headers</a>,
<a name="l344"><span class="linenum"> 344</span></a>                                         array('content-type'));
<a name="l345"><span class="linenum"> 345</span></a>  
<a name="l346"><span class="linenum"> 346</span></a>          if (<a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('content_type')" class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" href="../../../../_variables/content_type.html">content_type</a> &amp;&amp;
<a name="l347"><span class="linenum"> 347</span></a>              (<a class="class" onClick="logClass('Auth_Yadis_Yadis')" href="../../../../_classes/auth_yadis_yadis.html" onMouseOver="classPopup(event,'auth_yadis_yadis')">Auth_Yadis_Yadis</a>::<a class="function" onClick="logFunction('_getContentType')" href="../../../../_functions/_getcontenttype.html" onMouseOver="funcPopup(event,'_getcontenttype')">_getContentType</a>(<a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('content_type')" class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" href="../../../../_variables/content_type.html">content_type</a>) ==
<a name="l348"><span class="linenum"> 348</span></a>               Auth_Yadis_CONTENT_TYPE)) {
<a name="l349"><span class="linenum"> 349</span></a>              <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('xrds_uri')" class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" href="../../../../_variables/xrds_uri.html">xrds_uri</a> = <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('normalized_uri')" class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" href="../../../../_variables/normalized_uri.html">normalized_uri</a>;
<a name="l350"><span class="linenum"> 350</span></a>          } else {
<a name="l351"><span class="linenum"> 351</span></a>              <a class="var it45" onMouseOver="hilite(45)" onMouseOut="lolite()" onClick="logVariable('yadis_location')" href="../../../../_variables/yadis_location.html">$yadis_location</a> = <a class="class" onClick="logClass('Auth_Yadis_Yadis')" href="../../../../_classes/auth_yadis_yadis.html" onMouseOver="classPopup(event,'auth_yadis_yadis')">Auth_Yadis_Yadis</a>::<a class="function" onClick="logFunction('_getHeader')" href="../../../../_functions/_getheader.html" onMouseOver="funcPopup(event,'_getheader')">_getHeader</a>(
<a name="l352"><span class="linenum"> 352</span></a>                                                   <a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>-&gt;<a onClick="logVariable('headers')" class="var it2285" onMouseOver="hilite(2285)" onMouseOut="lolite()" href="../../../../_variables/headers.html">headers</a>,
<a name="l353"><span class="linenum"> 353</span></a>                                                   array(Auth_Yadis_HEADER_NAME));
<a name="l354"><span class="linenum"> 354</span></a>  
<a name="l355"><span class="linenum"> 355</span></a>              if (!<a class="var it45" onMouseOver="hilite(45)" onMouseOut="lolite()" onClick="logVariable('yadis_location')" href="../../../../_variables/yadis_location.html">$yadis_location</a>) {
<a name="l356"><span class="linenum"> 356</span></a>                  <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../../../_variables/parser.html">$parser</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Auth_Yadis_ParseHTML')" href="../../../../_classes/auth_yadis_parsehtml.html" onMouseOver="classPopup(event,'auth_yadis_parsehtml')">Auth_Yadis_ParseHTML</a>();
<a name="l357"><span class="linenum"> 357</span></a>                  <a class="var it45" onMouseOver="hilite(45)" onMouseOut="lolite()" onClick="logVariable('yadis_location')" href="../../../../_variables/yadis_location.html">$yadis_location</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../../../_variables/parser.html">$parser</a>-&gt;<a class="function" onClick="logFunction('getHTTPEquiv')" href="../../../../_functions/gethttpequiv.html" onMouseOver="funcPopup(event,'gethttpequiv')">getHTTPEquiv</a>(<a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>-&gt;<a onClick="logVariable('body')" class="var it2285" onMouseOver="hilite(2285)" onMouseOut="lolite()" href="../../../../_variables/body.html">body</a>);
<a name="l358"><span class="linenum"> 358</span></a>              }
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>              if (<a class="var it45" onMouseOver="hilite(45)" onMouseOut="lolite()" onClick="logVariable('yadis_location')" href="../../../../_variables/yadis_location.html">$yadis_location</a>) {
<a name="l361"><span class="linenum"> 361</span></a>                  <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('xrds_uri')" class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" href="../../../../_variables/xrds_uri.html">xrds_uri</a> = <a class="var it45" onMouseOver="hilite(45)" onMouseOut="lolite()" onClick="logVariable('yadis_location')" href="../../../../_variables/yadis_location.html">$yadis_location</a>;
<a name="l362"><span class="linenum"> 362</span></a>  
<a name="l363"><span class="linenum"> 363</span></a>                  <a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a> = <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('fetcher')" href="../../../../_variables/fetcher.html">$fetcher</a>-&gt;<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it45" onMouseOver="hilite(45)" onMouseOut="lolite()" onClick="logVariable('yadis_location')" href="../../../../_variables/yadis_location.html">$yadis_location</a>);
<a name="l364"><span class="linenum"> 364</span></a>  
<a name="l365"><span class="linenum"> 365</span></a>                  if ((!<a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>) || (<a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>-&gt;<a onClick="logVariable('status')" class="var it2285" onMouseOver="hilite(2285)" onMouseOut="lolite()" href="../../../../_variables/status.html">status</a> != 200 and
<a name="l366"><span class="linenum"> 366</span></a>                                       <a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>-&gt;<a onClick="logVariable('status')" class="var it2285" onMouseOver="hilite(2285)" onMouseOut="lolite()" href="../../../../_variables/status.html">status</a> != 206)) {
<a name="l367"><span class="linenum"> 367</span></a>                      <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('fail')" href="../../../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>();
<a name="l368"><span class="linenum"> 368</span></a>                      return <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l369"><span class="linenum"> 369</span></a>                  }
<a name="l370"><span class="linenum"> 370</span></a>  
<a name="l371"><span class="linenum"> 371</span></a>                  <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('content_type')" class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" href="../../../../_variables/content_type.html">content_type</a> = <a class="class" onClick="logClass('Auth_Yadis_Yadis')" href="../../../../_classes/auth_yadis_yadis.html" onMouseOver="classPopup(event,'auth_yadis_yadis')">Auth_Yadis_Yadis</a>::<a class="function" onClick="logFunction('_getHeader')" href="../../../../_functions/_getheader.html" onMouseOver="funcPopup(event,'_getheader')">_getHeader</a>(
<a name="l372"><span class="linenum"> 372</span></a>                                                           <a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>-&gt;<a onClick="logVariable('headers')" class="var it2285" onMouseOver="hilite(2285)" onMouseOut="lolite()" href="../../../../_variables/headers.html">headers</a>,
<a name="l373"><span class="linenum"> 373</span></a>                                                           array('content-type'));
<a name="l374"><span class="linenum"> 374</span></a>              }
<a name="l375"><span class="linenum"> 375</span></a>          }
<a name="l376"><span class="linenum"> 376</span></a>  
<a name="l377"><span class="linenum"> 377</span></a>          <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('response_text')" class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" href="../../../../_variables/response_text.html">response_text</a> = <a class="var it42" onMouseOver="hilite(42)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../../_variables/response.html">$response</a>-&gt;<a onClick="logVariable('body')" class="var it2285" onMouseOver="hilite(2285)" onMouseOut="lolite()" href="../../../../_variables/body.html">body</a>;
<a name="l378"><span class="linenum"> 378</span></a>          return <a class="var it40" onMouseOver="hilite(40)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l379"><span class="linenum"> 379</span></a>      }
<a name="l380"><span class="linenum"> 380</span></a>  }
<a name="l381"><span class="linenum"> 381</span></a>  
<a name="l382"><span class="linenum"> 382</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'_getcontenttype': ['_getcontenttype', '', [['admin/oauth/Auth/Yadis','Yadis.php',288]], 1],
'gethttpfetcher': ['gethttpfetcher', 'Returns an HTTP fetcher object.  If the CURL extension is present, an instance of {@link Auth_Yadis_ParanoidHTTPFetcher} is returned.  If not, an instance of {@link Auth_Yadis_PlainHTTPFetcher} is returned. ', [['admin/oauth/Auth/Yadis','Yadis.php',244]], 4],
'fail': ['fail', '', [['admin/oauth/Auth/Yadis','Yadis.php',78]], 2],
'isfailure': ['isfailure', '', [['admin/oauth/Auth/Yadis','Yadis.php',83],['admin/oauth/Auth','OpenID.php',117]], 38],
'discover': ['discover', 'This should be called statically and will build a Yadis instance if the discovery process succeeds.  This implements Yadis discovery as specified in the Yadis specification. ', [['admin/oauth/Auth/Yadis','Yadis.php',296]], 0],
'get': ['get', 'GET a URI using client object. ', [['admin/oauth/Zend/Gdata','App.php',847],['admin/oauth/Zend','Registry.php',130],['admin/oauth/Zend/Gdata','Gapps.php',187],['admin/oauth/Auth/Yadis','ParanoidHTTPFetcher.php',78],['admin/oauth/Auth/Yadis','HTTPFetcher.php',129],['admin/oauth/Auth/OpenID','Message.php',206],['admin/oauth/Auth/OpenID','SReg.php',506],['admin/oauth/Auth/OpenID','AX.php',737],['admin/oauth/Auth/Yadis','Manager.php',29],['admin/oauth/Auth/Yadis','PlainHTTPFetcher.php',37]], 42],
'auth_yadis_getserviceendpoints': ['auth_yadis_getserviceendpoints', 'Perform the Yadis protocol on the input URL and return an iterable of resulting endpoint objects. ', [['admin/oauth/Auth/Yadis','Yadis.php',119]], 1],
'auth_yadis_discoveryresult': ['auth_yadis_discoveryresult', '', [['admin/oauth/Auth/Yadis','Yadis.php',71]], 1],
'curlpresent': ['curlpresent', '', [['admin/oauth/Auth/Yadis','Yadis.php',264]], 1],
'services': ['services', 'Returns the list of service objects as described by the XRDS document, if this yadis object represents a successful Yadis discovery. ', [['admin/oauth/Auth/Yadis','Yadis.php',88],['admin/oauth/Auth/Yadis','XRDS.php',369]], 3],
'isxrds': ['isxrds', '', [['admin/oauth/Auth/Yadis','Yadis.php',111]], 2],
'_getheader': ['_getheader', '', [['admin/oauth/Auth/Yadis','Yadis.php',272]], 3],
'gethttpequiv': ['gethttpequiv', 'Looks for a META tag with an "http-equiv" attribute whose value is one of ("x-xrds-location", "x-yadis-location"), ignoring case.  If such a META tag is found, its "content" attribute value is returned. ', [['admin/oauth/Auth/Yadis','ParseHTML.php',230]], 1],
'usedyadislocation': ['usedyadislocation', '', [['admin/oauth/Auth/Yadis','Yadis.php',105]], 1],
'explode': ['explode', '', [], 76],
'strtolower': ['strtolower', '', [], 48],
'defined': ['defined', '', [], 17],
'call_user_func_array': ['call_user_func_array', '', [], 14],
'function_exists': ['function_exists', '', [], 27],
'define': ['define', '', [], 176]};
CLASS_DATA={
'auth_yadis_plainhttpfetcher': ['auth_yadis_plainhttpfetcher', 'This class implements a plain, hand-built socket-based fetcher which will be used in the event that CURL is unavailable. ', [['admin/oauth/Auth/Yadis','PlainHTTPFetcher.php',22]], 1],
'auth_yadis_paranoidhttpfetcher': ['auth_yadis_paranoidhttpfetcher', 'A paranoid {@link Auth_Yadis_HTTPFetcher} class which uses CURL for fetching. ', [['admin/oauth/Auth/Yadis','ParanoidHTTPFetcher.php',23]], 1],
'auth_yadis_yadis': ['auth_yadis_yadis', 'This is the core of the PHP Yadis library.  This is the only class a user needs to use to perform Yadis discovery.  This class performs the discovery AND stores the result of the discovery. ', [['admin/oauth/Auth/Yadis','Yadis.php',161]], 9],
'auth_yadis_discoveryresult': ['auth_yadis_discoveryresult', 'Contains the result of performing Yadis discovery on a URI. ', [['admin/oauth/Auth/Yadis','Yadis.php',43]], 1],
'auth_yadis_parsehtml': ['auth_yadis_parsehtml', 'This class is responsible for scanning an HTML string to find META tags and their attributes.  This is used by the Yadis discovery process.  This class must be instantiated to be used. ', [['admin/oauth/Auth/Yadis','ParseHTML.php',16]], 1]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Tue Dec  7 15:36:31 2010</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7</a></i></td>
	</tr>
</table>
</body></html>
